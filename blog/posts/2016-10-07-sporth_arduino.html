<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<title>Using Arduino with Sporth</title>

<link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

</head>
<body>
<center>
<table width="80%" border = 0>
<tr>
<td>
<h1>Using Arduino with Sporth</h1>
<p>2016-10-07</p>
<p>Today I had some initial success getting an Arduino to talk to Sporth over 
serial. </p>
<h2>Motiviations</h2>
<p>One of the courses I am enrolled in at Stanford this quarter is <a href="
https://ccrma.stanford.edu/courses/250a/">MUSIC 250a:
Physical Interaction Design for Music</a>, taught by the wonderful Sasha Leitman.
It is a course whose curriculum revolves around Arduino and Max/MSP. While
Arduino has open source software that allows it to be run on Linux, Max/MSP is
neither open source or able to run on Linux. It was this complication that was
enough motivation to build some alternative tooling using Sporth and C. </p>
<h2>How does one read serial?</h2>
<p>On Linux, <a href="/blog/posts/2016-08-25-griffin.html">reading from peripherals</a>
is typically a <a href="/blog/posts/2015-02-21-logitech.html">straightforwad thing</a>, since 
everything is a just file on Linux.  With serial, a few complications arise: 
baud rate is something that needs to be specified. So how does one do that?</p>
<p>Fortunately, serial read/write is <a href="
http://www.csounds.com/manual/html/serialRead.html">implemented in Csound</a>. 
Using the <a href="
https://github.com/csound/csound/blob/develop/Opcodes/serial.c">Csound C code</a>
, I was able to build a plugin for Sporth to read. </p>
<p>I have built a <a href="https://www.github.com/paulbatchelor/sporth-serial.git">github repository</a>
for my arduino sporth plugin so far. Eventually
it will become a flexible serial messaging system for Sporth. For now, the code
is a little sporadic, as I am using it on-the-fly to complete assignments for 
class.</p>
<h2>Some examples</h2>
<p>I have posted some not-too-serious videos on twitter:</p>
<h3>A simple button (Rihanna cover)</h3>
<blockquote class="twitter-video" data-lang="en"><p lang="en" dir="ltr">And 
here&#39;s a Rihanna cover. <a 
href="https://t.co/1rfCeE13uu">pic.twitter.com/1rfCeE13uu</a></p>&mdash; Paul 
Batchelor (@yesthisispaul) <a 
href="https://twitter.com/yesthisispaul/status/784503144751337472">October 7, 
2016</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<h3>Another button (U2 Cover)</h3>
<blockquote class="twitter-video" data-lang="en"><p lang="en" dir="ltr">The Max 
lab is where the streets have no name. <a 
href="https://twitter.com/hashtag/sporth?src=hash">#sporth</a> <a 
href="https://twitter.com/hashtag/arduino?src=hash">#arduino</a> <a 
href="https://twitter.com/hashtag/ccrma?src=hash">#ccrma</a> <a 
href="https://t.co/YfJ1QwXMfM">pic.twitter.com/YfJ1QwXMfM</a></p>&mdash; Paul 
Batchelor (@yesthisispaul) <a 
href="https://twitter.com/yesthisispaul/status/784502484672872448">October 7, 
2016</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<h3>2 Knobs</h3>
<blockquote class="twitter-video" data-lang="en"><p lang="en" dir="ltr"><a 
href="https://twitter.com/nickarner">@nickarner</a> I got me some knobs in 
sporth now <a 
href="https://t.co/7CohKuY3Ds">pic.twitter.com/7CohKuY3Ds</a></p>&mdash; Paul 
Batchelor (@yesthisispaul) <a 
href="https://twitter.com/yesthisispaul/status/784523525579210752">October 7, 
2016</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

</tr>
</td>
</table>
</center>
</body>
</html>
