<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">
<title>TeX equations in sndkit</title>
<h1>TeX equations in sndkit</h1>
<p>This aims to provide a brief overview on generating
inline equations in TeX.
</p>

<h2>Writing TeX Equations</h2>

<p>The <code>fig</code> function in janet is used to generate an
equation.
</p>
<p>For example, this markup code:
</p>
<pre><code>@!(fig "tex_example" "y = mx + b")!@</pre></code>
<p></p>
<p>Will produce the following equation:
</p>
<p><img src="/sndkit/_fig/tex_example.png" alt="y = mx + b"srcset="/sndkit/_fig/tex_example.png 1x,/sndkit/_fig/tex_example2x.png 2x,">
</p>
<p>The first argument is the name of the equation. This
is used as the filename, so it should be unique (and
without spaces). Typically the convention is to prefix
it with the name of the algorithm it is in.
</p>
<p>The second argument is the actual TeX code, written
in math mode.
</p>

<h2>Small Equations</h2>

<p>The <code>smallfig</code> function is used to render smaller equations,
and is usually used for coefficients of an equation.
</p>
<p>For example, the following markup code:
</p>
<pre><code>The equation above has the variables,
@!(smallfig "tex_y" "y")!@, @!(smallfig "tex_m" "m")!@,
@!(smallfig "tex_x" "x")!@, and @!(smallfig "tex_b" "b")!@.

This is the formula for a linear equation in algebra where
@!(smallfig "tex_y")!@ is the output,
@!(smallfig "tex_x")!@ is the input, @!(smallfig "tex_m")!@
is the slope of the line, and @!(smallfig "tex_b")!@ is
the offset.</pre></code>
<p></p>
<p>Looks like this:
</p>
<p>The equation above has the variables,
<img src="/sndkit/_fig/tex_y.png" alt="y">
, <img src="/sndkit/_fig/tex_m.png" alt="m">
,
<img src="/sndkit/_fig/tex_x.png" alt="x">
, and <img src="/sndkit/_fig/tex_b.png" alt="b">
.
</p>
<p>This is the formula for a linear equation in algebra where
<img src="/sndkit/_fig/tex_y.png">
 is the output,
<img src="/sndkit/_fig/tex_x.png">
 is the input, <img src="/sndkit/_fig/tex_m.png">
is the slope of the line, and <img src="/sndkit/_fig/tex_b.png">
 is
the offset.
</p>
<p>Note that the second argument in <code>smallfig</code> is optional,
allowing figures to be easily re-used as seen above.
</p>

<h2>Rendering Equations</h2>

<p>The next time weewiki exports HTML it will generate
individual TeX code for all the equations in all the
pages. These are located in the <code>_figs</code> directory.
</p>
<p>The diagrams for this page can be explicitely generated
running the following command in the top-level sndkit
directory:
</p>
<pre><code>weewiki export tex &gt; /dev/null</pre></code>
<p></p>
<p>Then, go into the <code>_figs</code> folder.
</p>
<p>Any time new figures are added, the figure list needs to be
manually regenerated again with:
</p>
<pre><code>./mkfiglist &gt; figs.mk</pre></code>
<p></p>
<p>Running <code>make</code> without any arguments will generate all PNGs
using TeX and the dvipng utility, which should be included
with any texlive distribution. Two versions of the file will
be included: a regular PNG file, and version with 2x the
resolution for computers with HD displays.
</p>

<h2>Removing Figures</h2>

<p>If a named figure gets removed, the corresponding TeX file
must be removed from the <code>_figs</code> directory, and <code>figs.mk</code>regenerated with <code>mkfiglist</code>.
</p>
</div>
</body>
</html>
