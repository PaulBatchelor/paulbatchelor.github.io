<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="/recurse/css/style.css">
<meta name="viewport" content="width=device-width,initial-scale=1" />
</head>
<body>
<div id="main">
<p><title>HTMLize code study files</title>
<h1>HTMLize code study files</h1>
task id: htmlize-codestudy-files
</p>
<p><a href="#2024_06_19_15_34" id="2024_06_19_15_34">2024-06-19 15:34</a>: How does sourcehut handle source code highlighting #htmlize-codestudy-files #timelog:00:51:30</p>
<div class="comment-block">
<p>Initial extraction and studies in <code>scratch/lines_css/</code>.
</p>
</div>
<p><a href="#2024_06_21_16_40" id="2024_06_21_16_40">2024-06-21 16:40</a>: Attempts to study sourcehut CSS again #htmlize-codestudy-files #timelog:00:15:59</p>
<p><a href="#2024_06_21_16_46" id="2024_06_21_16_46">2024-06-21 16:46</a>: Ha, okay I managed to make it go. Magic! #htmlize-codestudy-files</p>
<p><a href="#2024_06_21_16_53" id="2024_06_21_16_53">2024-06-21 16:53</a>: Did some clean-up. I now need to start pre-planning htmlization #htmlize-codestudy-files</p>
<p><a href="#2024_06_21_16_55" id="2024_06_21_16_55">2024-06-21 16:55</a>: Re-familiarizing myself with the schemas used here. #htmlize-codestudy-files</p>
<div class="comment-block">
<p>What does the schema look like? What kind of information does it have? How do file names get translated into things "seen" by dagzet? How to make sure file range links go to the right place? All this and more... later...
</p>
</div>
<p><a href="#2024_06_23_15_50" id="2024_06_23_15_50">2024-06-23 15:50</a>: Making decisions on file design #htmlize-codestudy-files #timelog:00:15:11</p>
<div class="comment-block">
<p>Files are stored in <code>dz_textfiles</code>. 
</p>
<p> Files given some sort of path, which can be analogous to a dagzet namespace URL. I'd probably opt to replace things like periods with underscores though. 
</p>
<p> Take something like <code>codestudy/potential/mag_sign.cpp</code>, that could a page called <code>codestudy/potential/mag_sign_cpp</code>. Some assumptions could be made that <code>codestudy/potential</code> would already exist and that <code>mag_sign_cpp</code> wouldn't be a pre-existing node. 
</p>
<p> A janet function could be written to generate the appropriate HTML given a file path. This could then be called using inline Janet, which could then be created procedurally using a script.
</p>
</div>
<p><a href="#2024_06_23_16_05" id="2024_06_23_16_05">2024-06-23 16:05</a>: Bottoms-up: create initial render page. #htmlize-codestudy-files</p>
<div class="comment-block">
<p>Gosh there's so friction getting this to work cuz everything is so connected. I wanted to just write Janet code, but I needed other things, so I put it inside a placeholder org file and ran parse, but the CSS parse path is wrong.
</p>
</div>
<p><a href="#2024_06_23_16_37" id="2024_06_23_16_37">2024-06-23 16:37</a>: We're going to need to re-work the HTML generator in weewiki.janet #htmlize-codestudy-files #timelog:00:32:04</p>
<div class="comment-block">
<p>I need to point to a brand new CSS file. Overwriting the usual one isn't going to work. Stopping for now because this will require fresh thinking.
</p>
</div>
<p><a href="#2024_06_24_08_30" id="2024_06_24_08_30">2024-06-24 08:30</a>: It would be great to get this done this week #htmlize-codestudy-files</p>
<div class="comment-block">
<p>I think this is a very important aspect.
</p>
</div>
<p><a href="#2024_06_25_10_02" id="2024_06_25_10_02">2024-06-25 10:02</a>: Initial refactoring attempt of my weewiki system #htmlize-codestudy-files #timelog:01:04:09</p>
<div class="comment-block">
<p>Basically, there are default header/footer functions for HTML pages. I need to rework this so that the dagzet files use their own custom header/footer functions. 
</p>
<p> Does weewiki store the current page name somewhere? Yes, it's <code>ww-name</code>. 
</p>
<p> I'm going with global mutable state, because that's ultimately going to be easier. 
</p>
<p> Oh boy, this is tricky. By the time the Org gets parsed, the headers/footers are already set up. This means I can't actually disable the templates from the Org file itself. It needs to come from a lower level. 
</p>
<p> I can add the files to a list, but that's error prone. 
</p>
<p> Okay, files are going to have the "dzfiles" or perhaps "dzf" extension for terseness. So for example, a file called <code>codestudy/potential/mag_sign.rs</code> would have a prefix of <code>dzf/codestudy/potential/mag_sign.rs</code>. My weewiki server would then be able to filter those pages and disable templates entirely. So far this is the best hack I got. 
</p>
<p> testing out hacky idea 
</p>
<p> Initial idea working. I'll need to inject the rest of the HTML next.
</p>
</div>
<p><a href="#2024_06_26_15_45" id="2024_06_26_15_45">2024-06-26 15:45</a>: Re-acquainting myself with last progress. Final remaining bits with any luck #htmlize-codestudy-files #timelog:00:23:06</p>
<p><a href="#2024_06_26_16_05" id="2024_06_26_16_05">2024-06-26 16:05</a>: The CSS works, now the links need to be hooked up into the HTMLized output #htmlize-codestudy-files #timelog:00:15:43</p>
<p><a href="#2024_06_26_16_22" id="2024_06_26_16_22">2024-06-26 16:22</a>: Test it out on website. #htmlize-codestudy-files #timelog:00:18:43</p>
</div>
</body>
</html>
