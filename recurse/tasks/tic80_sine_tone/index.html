<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="/recurse/css/style.css">
<meta name="viewport" content="width=device-width,initial-scale=1" />
</head>
<body>
<div id="main">
<p><title>Inject a sine tone into tic80 audio pipeline</title>
<h1>Inject a sine tone into tic80 audio pipeline</h1>
task id: tic80-sine-tone
</p>
<p><a href="#2024_07_09_08_19" id="2024_07_09_08_19">2024-07-09 08:19</a>: Initial investigation completed, now onto initial challenge: sine tone test. #investigate-tic80-audio #tic80-sine-tone</p>
<div class="comment-block">
<p>I think I know about enough to get started on hacking in a sine tone into the TIC-80 sound codebase. 
</p>
<p> A sine tone is ideal because it's a pitched pure tone, and it can be easy to tell if I'm getting the buffering and sample rate correct. If I can get a sine.
</p>
</div>
<p><a href="#2024_07_10_11_14" id="2024_07_10_11_14">2024-07-10 11:14</a>: This would be a good day to try to work on this #tic80-sine-tone</p>
<p><a href="#2024_07_10_15_20" id="2024_07_10_15_20">2024-07-10 15:20</a>: Attempts to get a sine tone playing in tic80 #tic80-sine-tone #timelog:01:19:56</p>
<p><a href="#2024_07_10_15_24" id="2024_07_10_15_24">2024-07-10 15:24</a>: =update_amp()=, what does that do? #tic80-sine-tone</p>
<div class="comment-block">
<p>Ah, I don't think I have to care about that, I can process data directly.
</p>
</div>
<p><a href="#2024_07_10_16_22" id="2024_07_10_16_22">2024-07-10 16:22</a>: runPcm not working. going a level down. #tic80-sine-tone</p>
<p><a href="#2024_07_10_16_55" id="2024_07_10_16_55">2024-07-10 16:55</a>: Wow, I am having a hard time grokking this code #tic80-sine-tone</p>
<div class="comment-block">
<p>I don't understand what <code>update_amp</code> is doing. It seems to be some kind of delta encoding. 
</p>
<p> I'm just putting printf statements in functions now to see what runs and happens.
</p>
</div>
<p><a href="#2024_07_10_17_39" id="2024_07_10_17_39">2024-07-10 17:39</a>: the =tic_sound_register_data= is key #tic80-sine-tone</p>
<div class="comment-block">
<p>It can be found in <code>core.h</code>. The value I think that is relevant for an arbitrary sine tone is "amp", which is the "current amp in the delta buffer". Does that mean the amp is delta encoded or PCM encoded? 
</p>
<p> There are 4 channels of sound.
</p>
</div>
<p><a href="#2024_07_10_17_45" id="2024_07_10_17_45">2024-07-10 17:45</a>: Follow-ups #tic80-sine-tone</p>
<div class="comment-block">
<p>How can I print any non-zero sound PCM values to terminal? 
</p>
<p> What's the deal with registers? How do they end up in a PCM buffer?
</p>
</div>
</div>
</body>
</html>
