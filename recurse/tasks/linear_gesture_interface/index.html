<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="/recurse/css/style.css">
<meta name="viewport" content="width=device-width,initial-scale=1" />
</head>
<body>
<div id="main">
<p><title>build linear gesture interface for mnolth</title>
<h1>build linear gesture interface for mnolth</h1>
task id: linear-gesture-interface
</p>
<p><a href="#2024_07_14_09_33" id="2024_07_14_09_33">2024-07-14 09:33</a>: Indulging myself a little bit here #linear-gesture-interface</p>
<div class="comment-block">
<p>I've got a linear gesture interface that works pretty well in VoxBox, and I'd like to be able to use it with mnolth. I also want to be able to populate gesture from within lua. To do this, I'll need to build out an interface in rust, export a C interface, and write some mnolth glue code (mnodes). 
</p>
<p> mainly doing this so I can compose some of this audio telephone thing using mnolth. Frankly, the Uxn thing in GestVM is a bit cumbersome.... the setup time takes too long.
</p>
</div>
<p><a href="#2024_07_14_10_52" id="2024_07_14_10_52">2024-07-14 10:52</a>: Initial linear gesture interface work #linear-gesture-interface</p>
<div class="comment-block">
<p>First, I'll build out the initial interface in Rust, which will wrap the existing linear gesture node with a self contained vector of paths. I'll then write some C-style functions that make it possible to do the following: initialize, append, tick, and destroy. I will make a quick example of this in Rust, which will be a good stopping point. 
</p>
<p> The next parts involve actually getting this inside of mnolth/mnodes, and creating the glue code there.
</p>
</div>
<p><a href="#2024_07_14_10_57" id="2024_07_14_10_57">2024-07-14 10:57</a>: Initial scaffolding #linear-gesture-interface #timelog:00:26:58</p>
<p><a href="#2024_07_14_11_20" id="2024_07_14_11_20">2024-07-14 11:20</a>: Creating an int to behavior wrapper #linear-gesture-interface #timelog:00:35:38</p>
<div class="comment-block">
<p>Using this as an opportunity to learn how to build a function with proper error handling and testing. I was going to do a more elaborte check validating each "okay" one, but it was less messy just to see it catch errors.
</p>
</div>
<p><a href="#2024_07_14_12_01" id="2024_07_14_12_01">2024-07-14 12:01</a>: Build an initial example using interface. #linear-gesture-interface #timelog:01:16:06</p>
<p><a href="#2024_07_14_12_11" id="2024_07_14_12_11">2024-07-14 12:11</a>: Running into borrow-checker woes #linear-gesture-interface</p>
<p><a href="#2024_07_14_12_18" id="2024_07_14_12_18">2024-07-14 12:18</a>: More borrow-checker woes. I am thinking of this problem wrong #linear-gesture-interface</p>
<div class="comment-block">
<p>Instead of building on the existing LinearGesture Generator, build a new gesture interface that owns a vector that can grow.
</p>
</div>
<p><a href="#2024_07_14_12_29" id="2024_07_14_12_29">2024-07-14 12:29</a>: Things work now. That's enough for now. #linear-gesture-interface #timelog:00:27:52</p>
<div class="comment-block">
<p>Going to work on the C interface next.
</p>
</div>
<p><a href="#2024_07_14_13_59" id="2024_07_14_13_59">2024-07-14 13:59</a>: Attempting the C interface #linear-gesture-interface</p>
<p><a href="#2024_07_14_14_47" id="2024_07_14_14_47">2024-07-14 14:47</a>: Using C interface with Rust example. #linear-gesture-interface</p>
<div class="comment-block">
<p>I think I can do that right?
</p>
</div>
<p><a href="#2024_07_14_14_50" id="2024_07_14_14_50">2024-07-14 14:50</a>: We cannot make this both a crate and a library, but can we? #linear-gesture-interface</p>
<div class="comment-block">
<p>I did a bit of a hack, which was to duplicate "src/lib.rs", make it "src/clib.rs", and then add an example in the Cargo toml file.
</p>
</div>
<p><a href="#2024_07_14_15_14" id="2024_07_14_15_14">2024-07-14 15:14</a>: Time to get this in mnodes. #linear-gesture-interface</p>
<p><a href="#2024_07_14_16_38" id="2024_07_14_16_38">2024-07-14 16:38</a>: Sidetracked. This will have to wait. #linear-gesture-interface</p>
<p><a href="#2024_07_14_18_44" id="2024_07_14_18_44">2024-07-14 18:44</a>: Back on this... #linear-gesture-interface #timelog:00:53:38</p>
<div class="comment-block">
<p>Most of the day has been wasted away. Going to try to move quickly on this.
</p>
</div>
<p><a href="#2024_07_14_19_40" id="2024_07_14_19_40">2024-07-14 19:40</a>: Proof of concept done. Good enough for tonight? #linear-gesture-interface</p>
<div class="comment-block">
<p>Gotta compose now.
</p>
</div>
<p><a href="#2024_07_15_08_42" id="2024_07_15_08_42">2024-07-15 08:42</a>: After all that work yesterday, I didn't use any of it #linear-gesture-interface</p>
<div class="comment-block">
<p>I'll briefly try to defend the notion that it was mostly a good effort. For starters, I got very a convenient linear gesture interface, which required some moderate thinking about design in rust with ownership in mind. Secondly, I got Rust code working in mnolth for the first time, and this is important because it shows that I can leverage what I've done before to boost what I'm working on right now.
</p>
</div>
</div>
</body>
</html>
