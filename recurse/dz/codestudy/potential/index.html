<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="/recurse/css/style.css">
<meta name="viewport" content="width=device-width,initial-scale=1" />
</head>
<body>
<div id="main">
<p><title>codestudy/potential</title>
<h1>potential</h1>
<a href="/recurse/dz">dz</a> / <a href="/recurse/dz/codestudy">codestudy</a> / <a href="/recurse/dz/codestudy/potential">potential</a>
<p></p>
<h2>Summary</h2>
<p>
Study notes for some code files from the Potential plugin VCVRack suite.
</p>
<h2>Node Tree</h2>
<ul>
<li>
<a href=#cpp>cpp</a><ul>
<li>
<a href=#header_file_looks_like_boilerplate>header_file_looks_like_boilerplate</a></li>
<li>
<a href=#init_entry_point>init_entry_point</a><ul>
<li>
<a href=#add_model_magsign>add_model_magsign</a><ul>
<li>
<a href=#magsign_model_creation>magsign_model_creation</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#magsign_cpp>magsign_cpp</a><ul>
<li>
<a href=#magsign_model_creation>magsign_model_creation</a></li>
<li>
<a href=#magsign_struct>magsign_struct</a><ul>
<li>
<a href=#magsign_processor>magsign_processor</a><ul>
<li>
<a href=#magsign_process_inner_loop>magsign_process_inner_loop</a><ul>
<li>
<a href=#mag_sign_process_raw>mag_sign_process_raw</a><ul>
<li>
<a href=#mag_sign_process>mag_sign_process</a><ul>
<li>
<a href=#upper_half_processing>upper_half_processing</a><ul>
<li>
<a href=#method_chaining_bipolar>method_chaining_bipolar</a><ul>
<li>
<a href=#bipolar_iter>bipolar_iter</a><ul>
<li>
<a href=#bipolar_zip>bipolar_zip</a><ul>
<li>
<a href=#bipolar_for_each>bipolar_for_each</a></li>
<li>
<a href="/recurse/dz/rust#std_iter_zip">rust/std_iter_zip</a></li>
</ul>
</li>
<li>
<a href="/recurse/dz/rust#std_iter">rust/std_iter</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#lower_half_processing>lower_half_processing</a></li>
</ul>
</li>
<li>
<a href=#lower_half_processing>lower_half_processing</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#call_mag_sign_process_raw>call_mag_sign_process_raw</a><ul>
<li>
<a href=#mag_sign_process_raw>mag_sign_process_raw</a><ul>
<li>
<a href=#mag_sign_process>mag_sign_process</a><ul>
<li>
<a href=#upper_half_processing>upper_half_processing</a><ul>
<li>
<a href=#method_chaining_bipolar>method_chaining_bipolar</a><ul>
<li>
<a href=#bipolar_iter>bipolar_iter</a><ul>
<li>
<a href=#bipolar_zip>bipolar_zip</a><ul>
<li>
<a href=#bipolar_for_each>bipolar_for_each</a></li>
<li>
<a href="/recurse/dz/rust#std_iter_zip">rust/std_iter_zip</a></li>
</ul>
</li>
<li>
<a href="/recurse/dz/rust#std_iter">rust/std_iter</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#lower_half_processing>lower_half_processing</a></li>
</ul>
</li>
<li>
<a href=#lower_half_processing>lower_half_processing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#get_inputs_outputs>get_inputs_outputs</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#magsign_widget>magsign_widget</a><ul>
<li>
<a href=#magsign_add_inputs>magsign_add_inputs</a><ul>
<li>
<a href=#magsign_add_outputs>magsign_add_outputs</a></li>
</ul>
</li>
<li>
<a href=#magsign_add_outputs>magsign_add_outputs</a></li>
<li>
<a href=#magsign_child_components>magsign_child_components</a></li>
</ul>
</li>
<li>
<a href=#magsign_constructor>magsign_constructor</a></li>
<li>
<a href=#magsign_enums>magsign_enums</a></li>
</ul>
</li>
<li>
<a href=#magsign_widget>magsign_widget</a><ul>
<li>
<a href=#magsign_add_inputs>magsign_add_inputs</a><ul>
<li>
<a href=#magsign_add_outputs>magsign_add_outputs</a></li>
</ul>
</li>
<li>
<a href=#magsign_add_outputs>magsign_add_outputs</a></li>
<li>
<a href=#magsign_child_components>magsign_child_components</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#github>github</a></li>
<li>
<a href=#only_first_inputs_outputs>only_first_inputs_outputs</a></li>
<li>
<a href=#rust>rust</a><ul>
<li>
<a href=#mag_sign_process_raw>mag_sign_process_raw</a><ul>
<li>
<a href=#mag_sign_process>mag_sign_process</a><ul>
<li>
<a href=#upper_half_processing>upper_half_processing</a><ul>
<li>
<a href=#method_chaining_bipolar>method_chaining_bipolar</a><ul>
<li>
<a href=#bipolar_iter>bipolar_iter</a><ul>
<li>
<a href=#bipolar_zip>bipolar_zip</a><ul>
<li>
<a href=#bipolar_for_each>bipolar_for_each</a></li>
<li>
<a href="/recurse/dz/rust#std_iter_zip">rust/std_iter_zip</a></li>
</ul>
</li>
<li>
<a href="/recurse/dz/rust#std_iter">rust/std_iter</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#lower_half_processing>lower_half_processing</a></li>
</ul>
</li>
<li>
<a href=#lower_half_processing>lower_half_processing</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#MagSignInput_struct>MagSignInput_struct</a><ul>
<li>
<a href=#MagSignOutput_struct>MagSignOutput_struct</a><ul>
<li>
<a href=#RackOutput_MagSignOutput>RackOutput_MagSignOutput</a></li>
</ul>
</li>
<li>
<a href=#RackInput_MagSignInput>RackInput_MagSignInput</a><ul>
<li>
<a href=#RackOutput_MagSignOutput>RackOutput_MagSignOutput</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#MagSignOutput_struct>MagSignOutput_struct</a><ul>
<li>
<a href=#RackOutput_MagSignOutput>RackOutput_MagSignOutput</a></li>
</ul>
</li>
<li>
<a href=#mag_sign_process>mag_sign_process</a><ul>
<li>
<a href=#upper_half_processing>upper_half_processing</a><ul>
<li>
<a href=#method_chaining_bipolar>method_chaining_bipolar</a><ul>
<li>
<a href=#bipolar_iter>bipolar_iter</a><ul>
<li>
<a href=#bipolar_zip>bipolar_zip</a><ul>
<li>
<a href=#bipolar_for_each>bipolar_for_each</a></li>
<li>
<a href="/recurse/dz/rust#std_iter_zip">rust/std_iter_zip</a></li>
</ul>
</li>
<li>
<a href="/recurse/dz/rust#std_iter">rust/std_iter</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#lower_half_processing>lower_half_processing</a></li>
</ul>
</li>
<li>
<a href=#lower_half_processing>lower_half_processing</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#test_reference>test_reference</a></li>
</ul>
<h2>Nodes</h2>
<table border="1px">
<tr>
<td colspan=2>
<a href=#github>github</a><a id="github"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Gihub Link for source code
</td>
</tr>
<tr>
<td>
hyperlink
</td>
<td>
<a href="https://github.com/dbonel/potential">https://github.com/dbonel/potential</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#test_reference>test_reference</a><a id="test_reference"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Just a test reference
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/plugin.cpp:12-14
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#init_entry_point>init_entry_point</a><a id="init_entry_point"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Init Entry Point Function
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#add_model_magsign>add_model_magsign</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#cpp>cpp</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
This must be the top-level entry point
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/plugin.cpp:5-15
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#add_model_magsign>add_model_magsign</a><a id="add_model_magsign"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
The magsign model is added with some function pointer called "addModel"
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#magsign_model_creation>magsign_model_creation</a> (this variable is what is added to in the init function)
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#init_entry_point>init_entry_point</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/plugin.cpp:8
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#header_file_looks_like_boilerplate>header_file_looks_like_boilerplate</a><a id="header_file_looks_like_boilerplate"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
The main plugin.hpp header file looks like mostly boilerplate.
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#cpp>cpp</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/plugin.hpp:0
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#magsign_enums>magsign_enums</a><a id="magsign_enums"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
MagSign enums
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#magsign_struct>magsign_struct</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.cpp:4-12
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#magsign_constructor>magsign_constructor</a><a id="magsign_constructor"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
MagSign constructor
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#magsign_struct>magsign_struct</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.cpp:14-22
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#magsign_widget>magsign_widget</a><a id="magsign_widget"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Magsign Widget Struct (Inherits from ModuleWidget)
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#magsign_add_inputs>magsign_add_inputs</a>, <a href=#magsign_add_outputs>magsign_add_outputs</a>, <a href=#magsign_child_components>magsign_child_components</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#magsign_cpp>magsign_cpp</a>, <a href=#magsign_struct>magsign_struct</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.cpp:31-59
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#magsign_model_creation>magsign_model_creation</a><a id="magsign_model_creation"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Creating a global instance of MagSign called "modelMagSign" using some function called "createModel".
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#magsign_cpp>magsign_cpp</a>, <a href=#add_model_magsign>add_model_magsign</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
"Model" as in "MVC Architecture?"
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.cpp:61
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#magsign_child_components>magsign_child_components</a><a id="magsign_child_components"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
calls to =addChild=, which I'm assuming are just like components.
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#magsign_widget>magsign_widget</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
borrowed terminology from DOM?
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.cpp:36-43
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#magsign_add_inputs>magsign_add_inputs</a><a id="magsign_add_inputs"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
adding 3 inputs to the module using =addInput()=.
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#magsign_add_outputs>magsign_add_outputs</a> (related)
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#magsign_widget>magsign_widget</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.cpp:45-50
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#magsign_add_outputs>magsign_add_outputs</a><a id="magsign_add_outputs"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Adding 3 outputs to the module using =addOutput()=.
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#magsign_add_inputs>magsign_add_inputs</a>, <a href=#magsign_widget>magsign_widget</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.cpp:52-57
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#get_inputs_outputs>get_inputs_outputs</a><a id="get_inputs_outputs"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
These lines get input and output "ports" using a function called =ffi_port()=. The return type is =rustlib::Port=, so this is where the actual transition from CPP to Rust starts.
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#magsign_process_inner_loop>magsign_process_inner_loop</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.cpp:25-26
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#only_first_inputs_outputs>only_first_inputs_outputs</a><a id="only_first_inputs_outputs"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Only the first inputs and outputs it seems. In C++, it's at array index 0. I'm guessing that this plugin has only one channel in and one channel out? and this is stored in the first input.
</td>
</tr>
<tr>
<td>
tags
</td>
<td>
clarify, what, inputs[0], and, outputs[0], point, to
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#MagSignInput_struct>MagSignInput_struct</a><a id="MagSignInput_struct"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
MagSignInput struct
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#MagSignOutput_struct>MagSignOutput_struct</a> (related struct), <a href=#RackInput_MagSignInput>RackInput_MagSignInput</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#rust>rust</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.rs:64-68
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#RackInput_MagSignInput>RackInput_MagSignInput</a><a id="RackInput_MagSignInput"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Implement RackInput trait for MagSignInput
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#RackOutput_MagSignOutput>RackOutput_MagSignOutput</a> (similar)
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#MagSignInput_struct>MagSignInput_struct</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.rs:69-92
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#MagSignOutput_struct>MagSignOutput_struct</a><a id="MagSignOutput_struct"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
MagSignOutput struct
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#RackOutput_MagSignOutput>RackOutput_MagSignOutput</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#rust>rust</a>, <a href=#MagSignInput_struct>MagSignInput_struct</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.rs:94-98
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#RackOutput_MagSignOutput>RackOutput_MagSignOutput</a><a id="RackOutput_MagSignOutput"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Implement RackOutput trait for MagSignOutput
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#MagSignOutput_struct>MagSignOutput_struct</a>, <a href=#RackInput_MagSignInput>RackInput_MagSignInput</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.rs:99-122
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#lower_half_processing>lower_half_processing</a><a id="lower_half_processing"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Lower half processing: decomposition
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#mag_sign_process>mag_sign_process</a>, <a href=#upper_half_processing>upper_half_processing</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.rs:28-55
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#bipolar_for_each>bipolar_for_each</a><a id="bipolar_for_each"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
for_each()
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#bipolar_zip>bipolar_zip</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/potential/mag_sign.rs:15-24
</td>
</tr>
</table><br>
</p>
</div>
</body>
</html>
