<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="/recurse/css/style.css">
<meta name="viewport" content="width=device-width,initial-scale=1" />
</head>
<body>
<div id="main">
<p><title>codestudy/tic80</title>
<h1>tic80</h1>
<a href="/recurse/dz">dz</a> / <a href="/recurse/dz/codestudy">codestudy</a> / <a href="/recurse/dz/codestudy/tic80">tic80</a>
<p></p>
<h2>Summary</h2>
<p>
Studying components of the codebase for TIC-80.
</p>
<h2>Node Tree</h2>
<ul>
<li>
<a href=#tick_funcs>tick_funcs</a><ul>
<li>
<a href=#tic_core_sound_tick_start>tic_core_sound_tick_start</a></li>
<li>
<a href=#tic_core_sound_tick_end>tic_core_sound_tick_end</a></li>
</ul>
</li>
<li>
<a href=#sound_c>sound_c</a><ul>
<li>
<a href=#notefreqs>notefreqs</a></li>
<li>
<a href=#sound_public_funcs>sound_public_funcs</a><ul>
<li>
<a href=#tic_api_sfx>tic_api_sfx</a></li>
<li>
<a href=#tic_core_synth_sound>tic_core_synth_sound</a><ul>
<li>
<a href=#blip_read_samples>blip_read_samples</a><ul>
<li>
<a href=#blip_set_rates>blip_set_rates</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#tic_api_music>tic_api_music</a></li>
<li>
<a href=#tic_core_sound_tick_start>tic_core_sound_tick_start</a></li>
<li>
<a href=#tic_core_sound_tick_end>tic_core_sound_tick_end</a></li>
</ul>
</li>
<li>
<a href=#static_asserts>static_asserts</a></li>
</ul>
</li>
<li>
<a href=#studio_c>studio_c</a><ul>
<li>
<a href=#studio_sound>studio_sound</a></li>
</ul>
</li>
<li>
<a href=#tic_c>tic_c</a><ul>
<li>
<a href=#tic80_sound>tic80_sound</a><ul>
<li>
<a href=#tic_core_synth_sound>tic_core_synth_sound</a><ul>
<li>
<a href=#blip_read_samples>blip_read_samples</a><ul>
<li>
<a href=#blip_set_rates>blip_set_rates</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#studio_sound>studio_sound</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Nodes</h2>
<table border="1px">
<tr>
<td colspan=2>
<a href=#sound_c>sound_c</a><a id="sound_c"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
sound.c: sound engine
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#notefreqs>notefreqs</a>, <a href=#sound_public_funcs>sound_public_funcs</a>, <a href=#static_asserts>static_asserts</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/sound.c:<a href="/recurse/dzf/codestudy/tic80/sound.c#L0">0</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#notefreqs>notefreqs</a><a id="notefreqs"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
NoteFreqs: a giant array of ints, presumably some kind of conversion table. Probably generated, as it's all on one line.
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#sound_c>sound_c</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/sound.c:<a href="/recurse/dzf/codestudy/tic80/sound.c#L38">38</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#static_asserts>static_asserts</a><a id="static_asserts"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
static asserts? I've never seen these before. I'm assuming they are compile-time checks.
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#sound_c>sound_c</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/sound.c:<a href="/recurse/dzf/codestudy/tic80/sound.c#L39">39</a>-<a href="/recurse/dzf/codestudy/tic80/sound.c#L45">45</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#sound_public_funcs>sound_public_funcs</a><a id="sound_public_funcs"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
Public functions in sound.c
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#tic_api_sfx>tic_api_sfx</a>, <a href=#tic_core_synth_sound>tic_core_synth_sound</a>, <a href=#tic_api_music>tic_api_music</a>, <a href=#tic_core_sound_tick_start>tic_core_sound_tick_start</a>, <a href=#tic_core_sound_tick_end>tic_core_sound_tick_end</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#sound_c>sound_c</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#tic_api_music>tic_api_music</a><a id="tic_api_music"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
tic_api_music()
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#sound_public_funcs>sound_public_funcs</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/sound.c:<a href="/recurse/dzf/codestudy/tic80/sound.c#L498">498</a>-<a href="/recurse/dzf/codestudy/tic80/sound.c#L506">506</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#tic_api_sfx>tic_api_sfx</a><a id="tic_api_sfx"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
tic_api_sfx
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#sound_public_funcs>sound_public_funcs</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/sound.c:<a href="/recurse/dzf/codestudy/tic80/sound.c#L508">508</a>-<a href="/recurse/dzf/codestudy/tic80/sound.c#L512">512</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#tic_core_synth_sound>tic_core_synth_sound</a><a id="tic_core_synth_sound"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
tic_core_synth_sound()
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#blip_read_samples>blip_read_samples</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#tic80_sound>tic80_sound</a>, <a href=#sound_public_funcs>sound_public_funcs</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/sound.c:<a href="/recurse/dzf/codestudy/tic80/sound.c#L542">542</a>-<a href="/recurse/dzf/codestudy/tic80/sound.c#L561">561</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#tic_core_sound_tick_start>tic_core_sound_tick_start</a><a id="tic_core_sound_tick_start"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
tic_core_sound_tick_start()
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#tick_funcs>tick_funcs</a>, <a href=#sound_public_funcs>sound_public_funcs</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/sound.c:<a href="/recurse/dzf/codestudy/tic80/sound.c#L563">563</a>-<a href="/recurse/dzf/codestudy/tic80/sound.c#L581">581</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#tic_core_sound_tick_end>tic_core_sound_tick_end</a><a id="tic_core_sound_tick_end"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
tic_core_sound_tick_end()
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#tick_funcs>tick_funcs</a>, <a href=#sound_public_funcs>sound_public_funcs</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/sound.c:<a href="/recurse/dzf/codestudy/tic80/sound.c#L583">583</a>-<a href="/recurse/dzf/codestudy/tic80/sound.c#L598">598</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#blip_read_samples>blip_read_samples</a><a id="blip_read_samples"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
calls to blip_read_samples()
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#blip_set_rates>blip_set_rates</a> (I believe this is how the rates are being set)
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#tic_core_synth_sound>tic_core_synth_sound</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
These are calls from a third-party library called blip-buf Looking at the README for it, this seems to handle audio re-sampling.
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/sound.c:<a href="/recurse/dzf/codestudy/tic80/sound.c#L551">551</a>-<a href="/recurse/dzf/codestudy/tic80/sound.c#L552">552</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#blip_set_rates>blip_set_rates</a><a id="blip_set_rates"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
blip_set_rates: used to set "clock" and regular samplerates
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#blip_read_samples>blip_read_samples</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
it's set somewhere outside of this file
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#tick_funcs>tick_funcs</a><a id="tick_funcs"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
A tick is a unit of time where things happen. It includes sound events and input events, among other things.
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#tic_core_sound_tick_start>tic_core_sound_tick_start</a>, <a href=#tic_core_sound_tick_end>tic_core_sound_tick_end</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#tic_c>tic_c</a><a id="tic_c"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
tic.c
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#tic80_sound>tic80_sound</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/tic.c:<a href="/recurse/dzf/codestudy/tic80/tic.c#L0">0</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#tic80_sound>tic80_sound</a><a id="tic80_sound"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
tic80_sound()
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#tic_core_synth_sound>tic_core_synth_sound</a>, <a href=#studio_sound>studio_sound</a> (tic80_sound is also used in sokol API calls.)
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#tic_c>tic_c</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
this seems to be a top-level sound function.
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/tic.c:<a href="/recurse/dzf/codestudy/tic80/tic.c#L127">127</a>-<a href="/recurse/dzf/codestudy/tic80/tic.c#L131">131</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#studio_c>studio_c</a><a id="studio_c"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
studio.c
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#studio_sound>studio_sound</a>
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/studio.c:<a href="/recurse/dzf/codestudy/tic80/studio.c#L0">0</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2>
<a href=#studio_sound>studio_sound</a><a id="studio_sound"></a>
</td>
</tr>
<tr>
<td>
content
</td>
<td>
studio_sound()
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#tic80_sound>tic80_sound</a>, <a href=#studio_c>studio_c</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
This seems to be called by sokol, so this might be the way sound is rendered in TIC80?
</td>
</tr>
<tr>
<td>
file reference
</td>
<td>
codestudy/tic80/studio.c:<a href="/recurse/dzf/codestudy/tic80/studio.c#L2446">2446</a>-<a href="/recurse/dzf/codestudy/tic80/studio.c#L2459">2459</a>
</td>
</tr>
</table><br>
</p>
</div>
</body>
</html>
