<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">
<title>Firefox in Chroot Jail</title>
<h1>Firefox in Chroot Jail</h1>

<h2>Overview</h2>

<p>This document aims to show how to get Firefox working
in a chroot jail. Specifically, an Arch Linux
Chroot <a href="https://wiki.alpinelinux.org/wiki/Installing_ArchLinux_inside_an_Alpine_chroot">set up in Alpine Linux</a>.
</p>

<h2>Procedure</h2>

<p>On the host machine, link /tmp/.X11-unix to the chroot
directory.
</p>
<pre><code>sudo mount -o bind /tmp/.X11-unix tmp/.X11-unix</pre></code>
<p></p>
<p>Copy xauthority file to chroot. (Can be determined with
the path $XAUTHORITY, which turns out to be the default
path ~/.Xauthority on Alpine).
</p>
<pre><code>cp ~/.Xauthority home/paul/</pre></code>
<p></p>
<p>Export the DISPLAY environment variable in the chroot.
(You can check the $DISPLAY environment on the host machine,
but it's usually going to be :0).
</p>
<pre><code>export DISPLAY=:0</pre></code>
<p></p>
<p>Running firefox should work now!
</p>

<h2>Resources</h2>

<p><a href="https://unix.stackexchange.com/questions/44823/how-to-run-firefox-in-a-chroot-jail">https://unix.stackexchange.com/questions/44823/how-to-run-firefox-in-a-chroot-jail</a></p>
<p><a href="https://unix.stackexchange.com/questions/10121/open-a-window-on-a-remote-x-display-why-cannot-open-display/10126#10126">https://unix.stackexchange.com/questions/10121/open-a-window-on-a-remote-x-display-why-cannot-open-display/10126#10126</a></p>
<hr>
<a href="/wiki/">home</a> | <a href="/wiki/wiki_index">index</a></div>
</body>
</html>
