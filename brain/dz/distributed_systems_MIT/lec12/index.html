<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/brain/css/style.css">

</head>
<body>
<div id="main">
<p><title>distributed_systems_MIT/lec12</title>
<h1>lec12</h1>
<a href="/brain/dz">dz</a> / <a href="/brain/dz/distributed_systems_MIT">distributed_systems_MIT</a> / <a href="/brain/dz/distributed_systems_MIT/lec12">lec12</a>
<p></p>
<h2>Summary</h2>
<p>
Distributed Transactions, Atomic Commit
</p>
<h2>Node Tree</h2>
<ul>
<li>
<a href=#distributed_transactions>distributed_transactions</a><ul>
<li>
<a href=#concurrency_control>concurrency_control</a><ul>
<li>
<a href=#optimistic>optimistic</a><ul>
<li>
<a href=#no_locks>no_locks</a><ul>
<li>
<a href=#check_at_end>check_at_end</a><ul>
<li>
<a href=#abort_retry>abort_retry</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#pessimistic>pessimistic</a></li>
<li>
<a href=#two_phase_locking>two_phase_locking</a><ul>
<li>
<a href=#deadlock_easily_produceable>deadlock_easily_produceable</a></li>
<li>
<a href=#force_serial_order>force_serial_order</a></li>
<li>
<a href=#acquire_lock_before_using>acquire_lock_before_using</a><ul>
<li>
<a href=#hold_until_done>hold_until_done</a><ul>
<li>
<a href=#why_hold>why_hold</a><ul>
<li>
<a href=#avoid_instruction_interleaving>avoid_instruction_interleaving</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#databases>databases</a><ul>
<li>
<a href=#correctness>correctness</a><ul>
<li>
<a href=#pessimistic>pessimistic</a></li>
<li>
<a href=#ACID>ACID</a><ul>
<li>
<a href=#consistent>consistent</a></li>
<li>
<a href=#durable>durable</a><ul>
<li>
<a href=#nv_storage>nv_storage</a></li>
</ul>
</li>
<li>
<a href=#isolated>isolated</a><ul>
<li>
<a href=#serializable>serializable</a><ul>
<li>
<a href=#easy_for_programmers>easy_for_programmers</a></li>
<li>
<a href=#serializable_def>serializable_def</a></li>
<li>
<a href=#abort>abort</a><ul>
<li>
<a href=#fail_in_transaction>fail_in_transaction</a></li>
<li>
<a href=#abort_retry>abort_retry</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#atomic_or_none>atomic_or_none</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#failures>failures</a><ul>
<li>
<a href=#atomicity_against>atomicity_against</a><ul>
<li>
<a href=#atomic_commit_protocol>atomic_commit_protocol</a><ul>
<li>
<a href=#two_phase_commit>two_phase_commit</a><ul>
<li>
<a href=#different_from_raft>different_from_raft</a><ul>
<li>
<a href=#combine_2pc_raft>combine_2pc_raft</a><ul>
<li>
<a href=#participants_in_cluster>participants_in_cluster</a></li>
<li>
<a href=#ts_replicated_service>ts_replicated_service</a></li>
</ul>
</li>
<li>
<a href=#do_same_thing>do_same_thing</a></li>
</ul>
</li>
<li>
<a href=#evil_rep>evil_rep</a></li>
<li>
<a href=#low_availability>low_availability</a></li>
<li>
<a href=#servers_diff_things>servers_diff_things</a><ul>
<li>
<a href=#do_same_thing>do_same_thing</a></li>
</ul>
</li>
<li>
<a href=#sharded_db>sharded_db</a></li>
<li>
<a href=#slow_lots_chitchat>slow_lots_chitchat</a></li>
<li>
<a href=#transaction_coordinator>transaction_coordinator</a><ul>
<li>
<a href=#computer_driving_commit>computer_driving_commit</a><ul>
<li>
<a href=#transaction_id>transaction_id</a></li>
</ul>
</li>
<li>
<a href=#crash_stores>crash_stores</a></li>
<li>
<a href=#prepare_message>prepare_message</a></li>
<li>
<a href=#single_entity>single_entity</a></li>
<li>
<a href=#timeout_block>timeout_block</a><ul>
<li>
<a href=#b_times_out>b_times_out</a></li>
<li>
<a href=#critical_prop_2pc>critical_prop_2pc</a></li>
</ul>
</li>
<li>
<a href=#what_if_fails>what_if_fails</a><ul>
<li>
<a href=#before_sending_commit>before_sending_commit</a><ul>
<li>
<a href=#doesnt_matter>doesnt_matter</a></li>
</ul>
</li>
<li>
<a href=#cant_forget_might_have_committed>cant_forget_might_have_committed</a><ul>
<li>
<a href=#after_sending_commit>after_sending_commit</a><ul>
<li>
<a href=#write_information_before_commit>write_information_before_commit</a><ul>
<li>
<a href=#receive_dup_commits>receive_dup_commits</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#after_sending_commit>after_sending_commit</a><ul>
<li>
<a href=#write_information_before_commit>write_information_before_commit</a><ul>
<li>
<a href=#receive_dup_commits>receive_dup_commits</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#transaction>transaction</a><ul>
<li>
<a href=#concurrency_control>concurrency_control</a><ul>
<li>
<a href=#optimistic>optimistic</a><ul>
<li>
<a href=#no_locks>no_locks</a><ul>
<li>
<a href=#check_at_end>check_at_end</a><ul>
<li>
<a href=#abort_retry>abort_retry</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#pessimistic>pessimistic</a></li>
<li>
<a href=#two_phase_locking>two_phase_locking</a><ul>
<li>
<a href=#deadlock_easily_produceable>deadlock_easily_produceable</a></li>
<li>
<a href=#force_serial_order>force_serial_order</a></li>
<li>
<a href=#acquire_lock_before_using>acquire_lock_before_using</a><ul>
<li>
<a href=#hold_until_done>hold_until_done</a><ul>
<li>
<a href=#why_hold>why_hold</a><ul>
<li>
<a href=#avoid_instruction_interleaving>avoid_instruction_interleaving</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#abort>abort</a><ul>
<li>
<a href=#fail_in_transaction>fail_in_transaction</a></li>
<li>
<a href=#abort_retry>abort_retry</a></li>
</ul>
</li>
<li>
<a href=#atomic_commit>atomic_commit</a></li>
</ul>
</li>
<li>
<a href=#atomic_commit>atomic_commit</a></li>
</ul>
</li>
<li>
<a href=#high_availabilty_through_repl>high_availabilty_through_repl</a><ul>
<li>
<a href=#do_same_thing>do_same_thing</a></li>
</ul>
</li>
</ul>
<h2>Nodes</h2>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="distributed_transactions">distributed_transactions</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Distributed Transactions
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#concurrency_control>concurrency_control</a>, <a href=#databases>databases</a>, <a href=#failures>failures</a>, <a href=#transaction>transaction</a>, <a href=#atomic_commit>atomic_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="atomic_commit">atomic_commit</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
atomic commit
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#distributed_transactions>distributed_transactions</a>, <a href=#transaction>transaction</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="concurrency_control">concurrency_control</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Concurrency Control
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#optimistic>optimistic</a>, <a href=#pessimistic>pessimistic</a>, <a href=#two_phase_locking>two_phase_locking</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#distributed_transactions>distributed_transactions</a>, <a href=#transaction>transaction</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="transaction">transaction</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Transaction
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#concurrency_control>concurrency_control</a>, <a href=#abort>abort</a>, <a href=#atomic_commit>atomic_commit</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#distributed_transactions>distributed_transactions</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="databases">databases</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Databases
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#correctness>correctness</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#distributed_transactions>distributed_transactions</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="correctness">correctness</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Correctness
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#pessimistic>pessimistic</a>, <a href=#ACID>ACID</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#databases>databases</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="ACID">ACID</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
ACID
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#consistent>consistent</a>, <a href=#durable>durable</a>, <a href=#isolated>isolated</a>, <a href=#atomic_or_none>atomic_or_none</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#correctness>correctness</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="atomic_or_none">atomic_or_none</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Atomic or none, despite failures
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#ACID>ACID</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="isolated">isolated</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Isolated
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#serializable>serializable</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#ACID>ACID</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="consistent">consistent</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Consistent
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#ACID>ACID</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="serializable">serializable</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Serializable
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#easy_for_programmers>easy_for_programmers</a>, <a href=#serializable_def>serializable_def</a> (definition), <a href=#abort>abort</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#isolated>isolated</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="durable">durable</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Durable
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#nv_storage>nv_storage</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#ACID>ACID</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="nv_storage">nv_storage</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Non-volatile st9orage
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#durable>durable</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="easy_for_programmers">easy_for_programmers</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Easy model for programmers
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#serializable>serializable</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="serializable_def">serializable_def</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
If order of execution of actions that yields same result
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#serializable>serializable</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
wrote this verbatim from my notes, I think I am missing something
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="abort">abort</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Abort
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#fail_in_transaction>fail_in_transaction</a>, <a href=#abort_retry>abort_retry</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#serializable>serializable</a>, <a href=#transaction>transaction</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="fail_in_transaction">fail_in_transaction</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Fail or decide to fail in the middle of a transaction
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#abort>abort</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="pessimistic">pessimistic</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Pessimistic
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#concurrency_control>concurrency_control</a>, <a href=#correctness>correctness</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="optimistic">optimistic</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Optimistic
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#no_locks>no_locks</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#concurrency_control>concurrency_control</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="no_locks">no_locks</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
No Locks
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#check_at_end>check_at_end</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#optimistic>optimistic</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="check_at_end">check_at_end</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Check for interfering transaction only at end
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#abort_retry>abort_retry</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#no_locks>no_locks</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="abort_retry">abort_retry</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Abort and retry
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#abort>abort</a>, <a href=#check_at_end>check_at_end</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="two_phase_locking">two_phase_locking</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Two-phase locking
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#deadlock_easily_produceable>deadlock_easily_produceable</a>, <a href=#force_serial_order>force_serial_order</a>, <a href=#acquire_lock_before_using>acquire_lock_before_using</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#concurrency_control>concurrency_control</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="acquire_lock_before_using">acquire_lock_before_using</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Acquire lock before using record
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#hold_until_done>hold_until_done</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_locking>two_phase_locking</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="hold_until_done">hold_until_done</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Hold until done
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#why_hold>why_hold</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#acquire_lock_before_using>acquire_lock_before_using</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="why_hold">why_hold</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Why hold until transaction finished?
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#avoid_instruction_interleaving>avoid_instruction_interleaving</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#hold_until_done>hold_until_done</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="avoid_instruction_interleaving">avoid_instruction_interleaving</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Avoids instruction interleaving
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#why_hold>why_hold</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="force_serial_order">force_serial_order</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Can force serial order
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_locking>two_phase_locking</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="deadlock_easily_produceable">deadlock_easily_produceable</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Easy to produce deadlock
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_locking>two_phase_locking</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="failures">failures</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Failures
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#atomicity_against>atomicity_against</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#distributed_transactions>distributed_transactions</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="atomicity_against">atomicity_against</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Atomicity Against
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#atomic_commit_protocol>atomic_commit_protocol</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#failures>failures</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="atomic_commit_protocol">atomic_commit_protocol</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Atomic Commit Protocol
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#two_phase_commit>two_phase_commit</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#atomicity_against>atomicity_against</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="two_phase_commit">two_phase_commit</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Two-phase commit
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#different_from_raft>different_from_raft</a>, <a href=#evil_rep>evil_rep</a>, <a href=#low_availability>low_availability</a>, <a href=#servers_diff_things>servers_diff_things</a>, <a href=#sharded_db>sharded_db</a>, <a href=#slow_lots_chitchat>slow_lots_chitchat</a>, <a href=#transaction_coordinator>transaction_coordinator</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#atomic_commit_protocol>atomic_commit_protocol</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="transaction_coordinator">transaction_coordinator</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Transaction coordinator
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#computer_driving_commit>computer_driving_commit</a> (description), <a href=#crash_stores>crash_stores</a>, <a href=#prepare_message>prepare_message</a>, <a href=#single_entity>single_entity</a>, <a href=#timeout_block>timeout_block</a>, <a href=#what_if_fails>what_if_fails</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_commit>two_phase_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="computer_driving_commit">computer_driving_commit</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Computer Driving THe Commit
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#transaction_id>transaction_id</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#transaction_coordinator>transaction_coordinator</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="transaction_id">transaction_id</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Transaction ID
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#computer_driving_commit>computer_driving_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="prepare_message">prepare_message</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
prepare message
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#transaction_coordinator>transaction_coordinator</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="what_if_fails">what_if_fails</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
What if it fails
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#before_sending_commit>before_sending_commit</a>, <a href=#cant_forget_might_have_committed>cant_forget_might_have_committed</a>, <a href=#after_sending_commit>after_sending_commit</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#transaction_coordinator>transaction_coordinator</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="before_sending_commit">before_sending_commit</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Before sending commit
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#doesnt_matter>doesnt_matter</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#what_if_fails>what_if_fails</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="doesnt_matter">doesnt_matter</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Doesn't matter
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#before_sending_commit>before_sending_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="cant_forget_might_have_committed">cant_forget_might_have_committed</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Can't forget anything that might have been committed
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#after_sending_commit>after_sending_commit</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#what_if_fails>what_if_fails</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="after_sending_commit">after_sending_commit</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
After sending commit
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#write_information_before_commit>write_information_before_commit</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#cant_forget_might_have_committed>cant_forget_might_have_committed</a>, <a href=#what_if_fails>what_if_fails</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="single_entity">single_entity</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Single Entity
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#transaction_coordinator>transaction_coordinator</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="crash_stores">crash_stores</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
"crash stores"
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#transaction_coordinator>transaction_coordinator</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
not sure what this, I had it in quotes
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="write_information_before_commit">write_information_before_commit</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Write information (outcome, id) before sending commit messages
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#receive_dup_commits>receive_dup_commits</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#after_sending_commit>after_sending_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="receive_dup_commits">receive_dup_commits</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Participants prepared to receive duplicate commit messages
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#write_information_before_commit>write_information_before_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="timeout_block">timeout_block</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
timeout/block
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#b_times_out>b_times_out</a>, <a href=#critical_prop_2pc>critical_prop_2pc</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#transaction_coordinator>transaction_coordinator</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="critical_prop_2pc">critical_prop_2pc</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Critical property of 2-phase commit
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#timeout_block>timeout_block</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="b_times_out">b_times_out</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
B times out
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#timeout_block>timeout_block</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="evil_rep">evil_rep</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
"evil" reputation
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_commit>two_phase_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="slow_lots_chitchat">slow_lots_chitchat</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
slow, lots of chitchat
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_commit>two_phase_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="sharded_db">sharded_db</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Used in shareded databse
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_commit>two_phase_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="different_from_raft">different_from_raft</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Different from RAFT
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#combine_2pc_raft>combine_2pc_raft</a>, <a href=#do_same_thing>do_same_thing</a> (RAFT does the same thing)
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_commit>two_phase_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="low_availability">low_availability</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Low Availability
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_commit>two_phase_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="servers_diff_things">servers_diff_things</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Servers do different things
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#do_same_thing>do_same_thing</a> (2pc servers do different things)
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#two_phase_commit>two_phase_commit</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="do_same_thing">do_same_thing</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
does the same thing
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#high_availabilty_through_repl>high_availabilty_through_repl</a>, <a href=#servers_diff_things>servers_diff_things</a>, <a href=#different_from_raft>different_from_raft</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="combine_2pc_raft">combine_2pc_raft</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
combine two-phase-commit with RAFT
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#participants_in_cluster>participants_in_cluster</a>, <a href=#ts_replicated_service>ts_replicated_service</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#different_from_raft>different_from_raft</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="high_availabilty_through_repl">high_availabilty_through_repl</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
High availability through repl
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#do_same_thing>do_same_thing</a> (RAFT has high availability)
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="participants_in_cluster">participants_in_cluster</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Participants in Cluster
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#combine_2pc_raft>combine_2pc_raft</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="ts_replicated_service">ts_replicated_service</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
TS replicated servce
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#combine_2pc_raft>combine_2pc_raft</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
not sure what TS stands for.
</td>
</tr>
</table><br>
</p>
</div>
</body>
</html>
