<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/brain/css/style.css">

</head>
<body>
<div id="main">
<p><title>mastering_zfs/ch04</title>
<h1>ch04</h1>
<a href="/brain/dz">dz</a> / <a href="/brain/dz/mastering_zfs">mastering_zfs</a> / <a href="/brain/dz/mastering_zfs/ch04">ch04</a>
<p></p>
<h2>Summary</h2>
<p>
Chapter 4: ZFS Datasets
</p>
<h2>Node Tree</h2>
<ul>
<li>
<a href=#mounting_zfs_fs>mounting_zfs_fs</a><ul>
<li>
<a href=#mountpoint_prop>mountpoint_prop</a></li>
<li>
<a href=#canmount>canmount</a><ul>
<li>
<a href=#datasets_without_mountpoints>datasets_without_mountpoints</a><ul>
<li>
<a href=#pools_without_mountpoints>pools_without_mountpoints</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#datasets_without_mountpoints>datasets_without_mountpoints</a><ul>
<li>
<a href=#pools_without_mountpoints>pools_without_mountpoints</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#tweaking_zfs_volumes>tweaking_zfs_volumes</a><ul>
<li>
<a href=#reservations>reservations</a><ul>
<li>
<a href=#res_lt_volsize>res_lt_volsize</a></li>
</ul>
</li>
<li>
<a href=#sparse_volumes>sparse_volumes</a><ul>
<li>
<a href=#res_lt_volsize>res_lt_volsize</a></li>
</ul>
</li>
<li>
<a href=#volmode>volmode</a></li>
</ul>
</li>
<li>
<a href=#zfs_cmd>zfs_cmd</a><ul>
<li>
<a href=#list>list</a></li>
</ul>
</li>
<li>
<a href=#dataset>dataset</a><ul>
<li>
<a href=#destroying>destroying</a></li>
<li>
<a href=#hierarchical_relationship>hierarchical_relationship</a></li>
<li>
<a href=#like_trad_partition>like_trad_partition</a></li>
<li>
<a href=#moving>moving</a></li>
<li>
<a href=#named_chunk>named_chunk</a></li>
<li>
<a href=#properties>properties</a><ul>
<li>
<a href=#fs_properties>fs_properties</a><ul>
<li>
<a href=#exec>exec</a></li>
<li>
<a href=#readonly_fs>readonly_fs</a></li>
<li>
<a href=#setuid>setuid</a></li>
<li>
<a href=#atime>atime</a></li>
</ul>
</li>
<li>
<a href=#inheret_from_parent>inheret_from_parent</a><ul>
<li>
<a href=#locally_set>locally_set</a></li>
<li>
<a href=#zfs_inheret>zfs_inheret</a></li>
</ul>
</li>
<li>
<a href=#read_only>read_only</a></li>
<li>
<a href=#canmount>canmount</a><ul>
<li>
<a href=#datasets_without_mountpoints>datasets_without_mountpoints</a><ul>
<li>
<a href=#pools_without_mountpoints>pools_without_mountpoints</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#renaming>renaming</a></li>
<li>
<a href=#types>types</a><ul>
<li>
<a href=#filesystems>filesystems</a></li>
<li>
<a href=#snapshots>snapshots</a><ul>
<li>
<a href=#read_only_copy_ds>read_only_copy_ds</a></li>
</ul>
</li>
<li>
<a href=#volumes>volumes</a><ul>
<li>
<a href=#zvol>zvol</a></li>
<li>
<a href=#block_device>block_device</a></li>
</ul>
</li>
<li>
<a href=#bookmarks>bookmarks</a></li>
<li>
<a href=#clones>clones</a><ul>
<li>
<a href=#new_ds_based_on_existing>new_ds_based_on_existing</a><ul>
<li>
<a href=#space_for_differences>space_for_differences</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#viewing>viewing</a><ul>
<li>
<a href=#list>list</a></li>
</ul>
</li>
<li>
<a href=#create>create</a><ul>
<li>
<a href=#filesystems>filesystems</a></li>
<li>
<a href=#volumes>volumes</a><ul>
<li>
<a href=#zvol>zvol</a></li>
<li>
<a href=#block_device>block_device</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href=#dataset_integrity>dataset_integrity</a><ul>
<li>
<a href=#metadata_redundancy>metadata_redundancy</a></li>
<li>
<a href=#checksums>checksums</a></li>
<li>
<a href=#copies>copies</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Nodes</h2>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="dataset">dataset</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Dataset
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#destroying>destroying</a>, <a href=#hierarchical_relationship>hierarchical_relationship</a>, <a href=#like_trad_partition>like_trad_partition</a>, <a href=#moving>moving</a>, <a href=#named_chunk>named_chunk</a>, <a href=#properties>properties</a>, <a href=#renaming>renaming</a>, <a href=#types>types</a>, <a href=#viewing>viewing</a>, <a href=#create>create</a>, <a href=#dataset_integrity>dataset_integrity</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="destroying">destroying</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
destroying
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="hierarchical_relationship">hierarchical_relationship</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Hierarchical Relationship
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="like_trad_partition">like_trad_partition</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Used much like partition in traditional filesystem
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="moving">moving</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
moving
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="named_chunk">named_chunk</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Named chunk of data
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a> (description)
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="properties">properties</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
properties
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#fs_properties>fs_properties</a>, <a href=#inheret_from_parent>inheret_from_parent</a>, <a href=#read_only>read_only</a>, <a href=#canmount>canmount</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="renaming">renaming</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
renaming
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="types">types</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Types
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#filesystems>filesystems</a>, <a href=#snapshots>snapshots</a>, <a href=#volumes>volumes</a>, <a href=#bookmarks>bookmarks</a>, <a href=#clones>clones</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="viewing">viewing</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
viewing
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#list>list</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="create">create</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
create
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#filesystems>filesystems</a>, <a href=#volumes>volumes</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="dataset_integrity">dataset_integrity</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Dataset Integrity
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#metadata_redundancy>metadata_redundancy</a>, <a href=#checksums>checksums</a>, <a href=#copies>copies</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset>dataset</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="fs_properties">fs_properties</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Filesystem Properties
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#exec>exec</a>, <a href=#readonly_fs>readonly_fs</a>, <a href=#setuid>setuid</a>, <a href=#atime>atime</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#properties>properties</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="inheret_from_parent">inheret_from_parent</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
inheret properties from parent
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#locally_set>locally_set</a>, <a href=#zfs_inheret>zfs_inheret</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#properties>properties</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="read_only">read_only</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Read-Only
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#properties>properties</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="canmount">canmount</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
canmount
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#datasets_without_mountpoints>datasets_without_mountpoints</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#mounting_zfs_fs>mounting_zfs_fs</a>, <a href=#properties>properties</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="filesystems">filesystems</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
filesystems
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#types>types</a>, <a href=#create>create</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="snapshots">snapshots</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
snapshots
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#read_only_copy_ds>read_only_copy_ds</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#types>types</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="volumes">volumes</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
volumes
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#zvol>zvol</a>, <a href=#block_device>block_device</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#types>types</a>, <a href=#create>create</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="bookmarks">bookmarks</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
bookmarks
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#types>types</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="clones">clones</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
clones
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#new_ds_based_on_existing>new_ds_based_on_existing</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#types>types</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="list">list</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
list
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#zfs_cmd>zfs_cmd</a>, <a href=#viewing>viewing</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="metadata_redundancy">metadata_redundancy</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Metadata redundancy
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset_integrity>dataset_integrity</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="checksums">checksums</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
checksums
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset_integrity>dataset_integrity</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="copies">copies</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
copies
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#dataset_integrity>dataset_integrity</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="exec">exec</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
exec
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#fs_properties>fs_properties</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="readonly_fs">readonly_fs</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
readonly
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#fs_properties>fs_properties</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="setuid">setuid</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
setuid
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#fs_properties>fs_properties</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="atime">atime</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
atime
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#fs_properties>fs_properties</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="locally_set">locally_set</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Can be locally set
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#inheret_from_parent>inheret_from_parent</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="zfs_inheret">zfs_inheret</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Command: zfs inheret
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#inheret_from_parent>inheret_from_parent</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="datasets_without_mountpoints">datasets_without_mountpoints</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Datasets without mount points
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#pools_without_mountpoints>pools_without_mountpoints</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#mounting_zfs_fs>mounting_zfs_fs</a>, <a href=#canmount>canmount</a> (set to "off")
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="read_only_copy_ds">read_only_copy_ds</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
read-only copy of a dataset from a specific point in time.
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#snapshots>snapshots</a> (description)
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="zvol">zvol</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
ZVol
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#volumes>volumes</a> (AKA)
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="block_device">block_device</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Block Device
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#volumes>volumes</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="new_ds_based_on_existing">new_ds_based_on_existing</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
New dataset based on snapshot of existing dataset
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#space_for_differences>space_for_differences</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#clones>clones</a> (description)
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="pools_without_mountpoints">pools_without_mountpoints</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Pools without mount points
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#datasets_without_mountpoints>datasets_without_mountpoints</a> (similar)
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="space_for_differences">space_for_differences</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
only uses space for differences
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#new_ds_based_on_existing>new_ds_based_on_existing</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="zfs_cmd">zfs_cmd</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
zfs(8) command
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#list>list</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="mounting_zfs_fs">mounting_zfs_fs</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Mounting ZFS Filesystems
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#mountpoint_prop>mountpoint_prop</a>, <a href=#canmount>canmount</a>, <a href=#datasets_without_mountpoints>datasets_without_mountpoints</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="mountpoint_prop">mountpoint_prop</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
mountpoint properties
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#mounting_zfs_fs>mounting_zfs_fs</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="tweaking_zfs_volumes">tweaking_zfs_volumes</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
tweaking ZFS volumes
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#reservations>reservations</a>, <a href=#sparse_volumes>sparse_volumes</a>, <a href=#volmode>volmode</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="reservations">reservations</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
Reservations
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#res_lt_volsize>res_lt_volsize</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#tweaking_zfs_volumes>tweaking_zfs_volumes</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="sparse_volumes">sparse_volumes</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
sparse volumes / thin provisioning
</td>
</tr>
<tr>
<td>
children
</td>
<td>
<a href=#res_lt_volsize>res_lt_volsize</a>
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#tweaking_zfs_volumes>tweaking_zfs_volumes</a>
</td>
</tr>
<tr>
<td>
remarks
</td>
<td>
not recommended
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="volmode">volmode</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
vol mode
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#tweaking_zfs_volumes>tweaking_zfs_volumes</a>
</td>
</tr>
</table><br>
<table border="1px">
<tr>
<td colspan=2><b>
<a id="res_lt_volsize">res_lt_volsize</a>
</b></td>
</tr>
<tr>
<td>
content
</td>
<td>
REservation less than volume size
</td>
</tr>
<tr>
<td>
parents
</td>
<td>
<a href=#sparse_volumes>sparse_volumes</a>, <a href=#reservations>reservations</a>
</td>
</tr>
</table><br>
</p>
</div>
</body>
</html>
