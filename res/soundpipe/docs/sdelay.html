<html>
<title>sdelay</title>
<head>
<link rel="stylesheet" href="css/skeleton.css">
<link rel="stylesheet" href="css/normalize.css">
</head>
<body>
<div class="container">
<i><h1>sdelay</h1></i>
<div class="row">
Files: <i>sdelay.h, sdelay.c</i></div>
<div class="row"><br></div>
Delays a signal by a number of samples.

<div class="row"><br></div>
<div class="row">
<div class="row">
<h2>Functions</h2></div>
</div>
<div class="row">
sp_sdelay_create(sp_sdelay **sdelay)
</div>
<div class="row">
sp_sdelay_init(sp_data *sp, sp_sdelay *sdelay, SPFLOAT size)
</div>
<div class="row">
sp_sdelay_compute(sp_data *sp, sp_sdelay *sdelay, SPFLOAT *input, SPFLOAT *out)
</div>
<div class="row">
sp_sdelay_destroy(sp_sdelay **sdelay)
</div>
<div class="row"><br></div>
<div class="row">
<h2>Mandatory Parameters</h2></div>
<div class="row">
<i>size:</i> Size of delay (in samples)</div>
<div class="row">

(Recommended value: 128)
</div>
<div class="row"><br></div>

<div class="row">
<h2>Inputs</h2></div>
<div class="row">
<i>input:</i> Input signal to be delayed.
</div>
<div class="row"><br></div>
<div class="row">
<h2>Outputs</h2></div>
<div class="row">
<i>out:</i> Signal output for sdelay.
</div>
<div class="row"><br></div>
<div class="row">
<h2>Example Code</h2></div>
<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include "soundpipe.h"

typedef struct {
    sp_sdelay *sdelay;
    sp_lpf18 *filt1;
    sp_lpf18 *filt2;
    sp_metro *met;
} UserData;

void process(sp_data *sp, void *udata) {
    UserData *ud = udata;
    SPFLOAT met = 0, sdelay = 0;
    SPFLOAT filt1 = 0, filt2 = 0;
    sp_metro_compute(sp, ud-&gt;met, NULL, &met);
    sp_sdelay_compute(sp, ud-&gt;sdelay, &met, &sdelay);

    sp_lpf18_compute(sp, ud-&gt;filt1, &met, &filt1);
    sp_lpf18_compute(sp, ud-&gt;filt2, &sdelay, &filt2);

    sp-&gt;out[0] = filt1 + filt2;
}

int main() {
    srand(1234567);
    UserData ud;
    sp_data *sp;
    sp_create(&sp);

    sp_sdelay_create(&ud.sdelay);
    sp_metro_create(&ud.met);
    sp_lpf18_create(&ud.filt1);
    sp_lpf18_create(&ud.filt2);

    sp_sdelay_init(sp, ud.sdelay, 2000);
    sp_metro_init(sp, ud.met);

    ud.met-&gt;freq = 2;

    sp_lpf18_init(sp, ud.filt1);
    ud.filt1-&gt;cutoff = 4000;
    ud.filt1-&gt;res = 0.8;

    sp_lpf18_init(sp, ud.filt2);
    ud.filt2-&gt;cutoff = 500;
    ud.filt2-&gt;res = 0.8;

    sp-&gt;len = 44100 * 5;
    sp_process(sp, &ud, process);

    sp_sdelay_destroy(&ud.sdelay);
    sp_metro_destroy(&ud.met);
    sp_lpf18_destroy(&ud.filt1);
    sp_lpf18_destroy(&ud.filt2);

    sp_destroy(&sp);
    return 0;
}
</code></pre></div></body></html>
