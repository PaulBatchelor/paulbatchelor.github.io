<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">
<title>Using Monolith Externally</title>
<h1>Using Monolith Externally</h1>

<h2>Internal vs External</h2>

<p>When <code>monolith</code> was originally created, the intent was
that the monolith binary would be run from the top-level
directory, always. This can be thought of as <code>internal</code>usage. Things in monolith relied on this being true, such
as loading scheme files from the "p" directory.
</p>
<p>As time went on, Monolith had more utilities stapled
onto itself, and using the binary anywhere became more
important. This is known as <code>external</code> usage.
</p>

<h2>Using S9 Scheme Externally</h2>

<p>Using the default s9 scheme interpreter externally
has historically been a tricky problem, but has gotten
a little bit better.
</p>
<p>For starters, wherever you run the scheme interpreter, it
must be able to find and load the image. If it can't
be found, it can be generated locally using:
</p>
<pre><code>monolith mkimg</pre></code>
<p></p>
<p>From there, the environment variable <code>MONOLITH_HOME</code> must
point to the top-level directory of the monolith source
code.
</p>
<p>Then, monolith scheme programs can be run like so:
</p>
<pre><code>monolith -l $MONOLITH_HOME/p/monolith.scm test.scm</pre></code>
</div>
</body>
</html>
