<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">
<title>Trig</title>
<h1>Trig</h1>
<p>A rhythmic computing system.
</p>
<p><img src="data:image/png;base64,
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
" />
</p>

<h3>Load Trig Scheme definitions</h3>

<p>This provides wrappers for the nodes.
</p>
<pre><code>(monolith:load "trig.scm")</pre></code>

<h3>Making a new trig page</h3>

<p>This is done with <code>monolith:trig-new</code>.
</p>
<pre><code>(monolith:trig-new "trig")</pre></code>
<p></p>
<p>Select it with <code>monolith:page-select</code>.
</p>
<pre><code>(monolith:page-select "trig")</pre></code>

<h3>Initalizing Trig With clock</h3>

<p>After creating an instance of trig, it needs to be
initialized with a clock. This is done with
<code>trigclk</code>. Call this before doing anything else.
</p>
<pre><code>(trigclk (clock 0 120 4) "trig")</pre></code>

<h3>Executing Trig Instructions</h3>

<p>After a trig is initialized with a clock, it can then
execute instructions. Do this before attempting to get
anything from it.
</p>
<pre><code>(trigex "trig")</pre></code>

<h3>Reading from wires</h3>

<p><code>trigwget</code> will read from a given wire in trig, given the
wire ID. This expects to be a value in the range 1-8.
</p>
<pre><code>(trigwget 1 "trig")</pre></code>

<h3>How to make rhythms</h3>

<p>Wires can be multiplied with the input clock signal to
produce a rhythm.
</p>
<p>Something like this should do it:
</p>
<pre><code>(clock 0 120 4)
(bdup)
(trigclk zz "trig")
(trigex "trig")
(trigwget 1 "trig")
(mul zz zz)
(tenvx zz 0.001 0.002 0.01)
(sine 1000 0.4)
(mul zz zz)</pre></code>

<h3>Executing Things in Parallel</h3>

<p>Parallel reads can happen with the <code>trigrex</code> node,
which stands for trigger re-execution. Internally,
this creates a new reader that reads from the same chunk
in memory. <code>trigrex</code> needs to be called before <code>trigex</code>.
Otherwise, multiple playhead display will not show up.
</p>

<h3>Reset On recompile</h3>

<p>It's often useful to reset the playhead between recompiles.
This keeps this in sync. To do this, place a
call to <code>monolith:trig-reset</code> in the patch.
</p>
<p>This will set the position to be the initial position, which
is set to be the top-left cell 1 by default. At the time of
writing, there is know way to change this from scheme (yet).
<pre><code>(monolith:trig-reset "trig")</pre></code>

<h3>Source Code</h3>

<p>The main program source code for the trig page can be found
at <a href="/proj/monolith/program/wm_014">trig.c</a>, with the core rhythm VM
found at <a href="/proj/monolith/program/wm_015">trigvm.c</a>.
</p>
</div>
</body>
</html>
