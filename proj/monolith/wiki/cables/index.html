<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">
<title>Cables</title>
<h1>Cables</h1>
<p>Cables, buffers, stacks, and pools. These are what Patchwerk
uses under the hood to efficiently copy data. In the wrong
hands, it can be quite a footgun!
</p>
<p>Notes and noodling for now. Will write more later.
</p>
</p>

<h3>Some under-the-hood talk</h3>


<h3>TODO bhold/bunhold</h3>


<h3>TODO cabset/cabget</h3>


<h3>TODO cabclr</h3>


<h3>TODO cabnew</h3>


<h3>cabtmp</h3>

<p>Like cabnew, but it will first try to get a buffer from
the pool before allocating a buffer as a last resort.
</p>
<p>Here is a stress test that demonstrates this.
</p>
<pre><code>patchwerk nodes

# use up all 8 buffers (default pool size)

440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp

# this one allocates a buffer
440 0.5 sine cabtmp</pre></code>
</div>
</body>
</html>
