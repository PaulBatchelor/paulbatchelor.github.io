<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">
<title>Cables</title>
<h1>Cables</h1>
<p>Cables, buffers, stacks, and pools. These are what Graforge
uses under the hood to efficiently copy data. In the wrong
hands, it can be quite a footgun!
</p>
<p>Notes and noodling for now. Will write more later.
</p>
</p>

<h2>Some under-the-hood talk</h2>


<h2>TODO bhold/bunhold</h2>


<h2>TODO cabset/cabget</h2>


<h2>TODO cabclr</h2>


<h2>TODO cabnew</h2>

<p>Allocates a cable with a new buffer.
</p>

<h2>cabtmp</h2>

<p>Like cabnew, but it will first try to get a buffer from
the pool before allocating a buffer as a last resort.
</p>
<p>Here is a stress test that demonstrates this.
</p>
<pre><code>graforge nodes

# use up all 8 buffers (default pool size)

440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp
440 0.5 sine cabtmp

# this one allocates a buffer
440 0.5 sine cabtmp</pre></code>
</div>
</body>
</html>
