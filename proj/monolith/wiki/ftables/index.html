<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">
<title>FTables</title>
<h1>FTables</h1>

<h2>Introduction</h2>

<p><code>ftables</code>, or Function Tables, is a term borrowed from MUSIC N
and the Csound, used to describe fixed-lenth floating point
tables, often used by things like table lookup oscillators.
Presumably, the "function" aspect may come from the fact that
these tables were often allocated then put through a
function to do things like generate sine waves.
</p>
<p>Ftables are a data structure defined in Soundpipe, and are
often abbreviated as <code>ftbl</code> in code, and in C have the struct
name <code>sp_ftbl</code>.
</p>

<h2>GEN Routines</h2>

<p>GEN routines are another throwback term found in MUSIC N and
Csound. These are things that take in csound
</p>

<h2>Making Ftables</h2>

<p>A new ftable can be created using the runt word <code>ftnew</code>,
available also as a scheme function via <a href="/proj/monolith/wiki/ugens">ugens.org</a>. Typicially these are stored in <a href="/proj/monolith/wiki/registers">registers</a> via <code>regset</code>.
</p>
<pre><code>(regset (ftnew 8192) 0)</pre></code>
<p></p>
<p>This will create an ftable local to the
patch that gets freed when the patch is recompiled.
</p>
<p>Persistant tables can be created and managed by monolith
via the monolith dictionary.
</p>
<p>An ftable can be created by monolith using the command
<code>monolith:ftbl-create</code>:
</p>
<pre><code>(monolith:ftbl-create "foo" 8192)</pre></code>
<p></p>
<p>To access the ftable, use <code>monft</code>, available as a runt word
or scheme command:
</p>
<pre><code>(gen_sine (monft "foo"))</pre></code>

<h2>TODO Gen routines</h2>

<p><code>gen_sine</code> <code>loadwav</code>, etc.
</p>

<h2>TODO UGens that take ftables</h2>

<p><code>oscf</code>, <code>osci</code>, <code>fosc</code>, <code>fmpair</code>, <code>tabread</code>, <code>trd</code>, etc.
</p>

<h2>Getting ftable size/duration</h2>

<p>The runt words <code>tblsize</code> and <code>tbldur</code> get
size and duration, respectively.
</p>
<p><code>tblsize</code> returns the length of the ftable in
samples, while <code>tbldur</code> returns the length
of the ftable in seconds.
</p>

<h2>Retrieving table values</h2>

<p><code>tget</code> sets an ftable.
</p>
</div>
</body>
</html>
