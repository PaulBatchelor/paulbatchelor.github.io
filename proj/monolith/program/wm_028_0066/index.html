<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">

<h3>3. Struct and Contents</h3>

<p><a id="wm_028_0066"></a>An ftable list has a struct called <code>sp_ftlist</code>.
</p>
<div><b><i>&lt;&lt;typedefs&gt;&gt;=</i></b></div><pre><code>typedef struct sp_ftlist sp_ftlist;</pre></code>
<div><b><i>&lt;&lt;structs&gt;&gt;=</i></b></div><pre><code>struct sp_ftlist {
&lt;&lt;sp_ftlist&gt;&gt;
};</pre></code>
<p></p>
<p>When an opaque struct, the size of the ftlist can be
obtained with <code>sp_ftlist_sizeof</code>.
</p>
<div><b><i>&lt;&lt;funcdefs&gt;&gt;=</i></b></div><pre><code>unsigned long sp_ftlist_sizeof(void);</pre></code>
<div><b><i>&lt;&lt;funcs&gt;&gt;=</i></b></div><pre><code>unsigned long sp_ftlist_sizeof(void)
{
    return sizeof(sp_ftlist);
}</pre></code>
<p></p>
<p>The target ftable is the exported ftable.
</p>
<div><b><i>&lt;&lt;sp_ftlist&gt;&gt;=</i></b></div><pre><code>sp_ftbl target;</pre></code>
<div><b><i>&lt;&lt;init&gt;&gt;=</i></b></div><pre><code>ftl-&gt;target.size = 0;
ftl-&gt;target.tbl = 0;</pre></code>
<p></p>
<p>The list is a list of ftable pointers.
</p>
<div><b><i>&lt;&lt;sp_ftlist&gt;&gt;=</i></b></div><pre><code>sp_ftbl **list;</pre></code>
<div><b><i>&lt;&lt;init&gt;&gt;=</i></b></div><pre><code>ftl-&gt;list = NULL;</pre></code>
<p></p>
<p>This can be retrieved using <code>sp_ftlist_list</code>.
</p>
<div><b><i>&lt;&lt;funcdefs&gt;&gt;=</i></b></div><pre><code>sp_ftbl** sp_ftlist_list(sp_ftlist *ftl);</pre></code>
<div><b><i>&lt;&lt;funcs&gt;&gt;=</i></b></div><pre><code>sp_ftbl** sp_ftlist_list(sp_ftlist *ftl)
{
    return ftl-&gt;list;
}</pre></code>
<p></p>
<p>At cleanup, this list is freed.
</p>
<div><b><i>&lt;&lt;clean&gt;&gt;=</i></b></div><pre><code>if (ftl-&gt;list != NULL) {
    free(ftl-&gt;list);
}</pre></code>
<p></p>
<p>The size is list size.
</p>
<div><b><i>&lt;&lt;sp_ftlist&gt;&gt;=</i></b></div><pre><code>int size;</pre></code>
<div><b><i>&lt;&lt;init&gt;&gt;=</i></b></div><pre><code>ftl-&gt;size = 0;</pre></code>
<p></p>
<p>Can be retrieved via <code>sp_ftlist_size</code>.
</p>
<div><b><i>&lt;&lt;funcdefs&gt;&gt;=</i></b></div><pre><code>int sp_ftlist_size(sp_ftlist *ftl);</pre></code>
<div><b><i>&lt;&lt;funcs&gt;&gt;=</i></b></div><pre><code>int sp_ftlist_size(sp_ftlist *ftl)
{
    return ftl-&gt;size;
}</pre></code>
<p></p>
<br>
<p><hr>

<a href="/proj/monolith/program/wm_028_0004">prev</a> | <a href="/proj/monolith/program/wm_028">home</a> | <a href="/proj/monolith/program/wm_028_0114">next</a></p>
</div>
</body>
</html>
