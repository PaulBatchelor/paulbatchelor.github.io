<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">

<h3>11. Runt-img integration</h3>

<p><a id="wm_027_0225"></a>The runt-img library is a little pixel art graphics library I wrote in runt
a few years ago. The hope here is to make it possible for the runt-img library
to write directly to the framebuffer.
</p>

<h4>11.1. Runt-img draw callback</h4>

<p><a id="wm_027_0227"></a>The runt-img library is driven by a low level draw callback, which is used
to draw a single pixel at a particular XY location. Instead of
writing to the default buffer, it will write to the graphics framebuffer.
</p>
<p>The pointer callback has no user data, so global variables must be accessed
inside of it. It must know about:
</p>
<p>- The graphics buffer, stored inside of the monolith global data struct
- The current color set by runt-img
</p>
<p>The monolith struct is retrieved with <code>monolith_data_get</code>.
</p>
<p>The current runt image color (RGBA) can be found with
<code>img_get_current_color</code>.
</p>
<p>#
#
#
#
</p>

<h4>11.2. Setting the point callback (monolith:gfx-runt-img)</h4>

<p><a id="wm_027_0229"></a>Runt-img must be explicitely bound using the scheme function
<code>monolith:gfx-runt-img</code>. This can only be done in scheme, because the graphics
stack is built to only work when the scheme system is fully initialized.
</p>
</div>
</body>
</html>
