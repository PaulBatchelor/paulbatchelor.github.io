<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">

<h2>1. Top</h2>

<p><a id="wm_003_0002"></a>This document focuses on anything related to norns +
monolith.
</p>

<h3>1.1. C File</h3>

<p><a id="wm_003_0004"></a><div><b><i>&lt;&lt;norns.c&gt;&gt;=</i></b></div><pre><code>#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;linux/input.h&gt;
#include &lt;signal.h&gt;
#include &lt;linux/fb.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;sys/ioctl.h&gt;

#include "graforge.h"
#include "runt.h"
#include "monolith.h"
#define MONOLITH_ANSI
#include "janet/janet.h"
#define MONOLITH_NORNS_PRIVATE
#include "norns.h"

&lt;&lt;norns_default_font&gt;&gt;
&lt;&lt;norns_functions&gt;&gt;</pre></code>

<h3>1.2. Header File</h3>

<p><a id="wm_003_0013"></a><div><b><i>&lt;&lt;norns.h&gt;&gt;=</i></b></div><pre><code>#ifndef MONOLITH_NORNS_H
#define MONOLITH_NORNS_H
&lt;&lt;norns_typedefs&gt;&gt;
#ifdef MONOLITH_NORNS_PRIVATE
&lt;&lt;norns_structs&gt;&gt;
#endif
&lt;&lt;norns_funcdefs&gt;&gt;
#endif</pre></code>
<p>Monolith struct is needed for some functions, which is
causing some header circular deps. To fix this, a
<code>monolith_d</code> typedef has been added to the top of this
header in case <code>monolith.h</code> has not been included yet or
is includded after <code>norns.h</code>.
</p>
<br>
<p>In the future, it may be better to move the monolith
specific stuff outside of this file and into the main
monolith file.
</p>
<br>
<p><hr>

prev | <a href="/proj/monolith/program/wm_003">home</a> | <a href="/proj/monolith/program/wm_003_0025">next</a></p>
</div>
</body>
</html>
