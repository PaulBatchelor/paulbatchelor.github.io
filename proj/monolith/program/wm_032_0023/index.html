<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">

<h3>3. Janet Code</h3>

<p><a id="wm_032_0023"></a>And here's the janet function.
</p>
<p><code>j_wavdraw</code> is loaded into the top-level btprnt loader.
</p>
<p>It takes in the following arguments: a bptrnt instance and
region, the filename, and the color (1 or 0).
</p>
<div><b><i>&lt;&lt;janet&gt;&gt;=</i></b></div><pre><code>void janet2reg(btprnt *bp,
               JanetArray *ja,
               btprnt_region *r);

btprnt * janet2btprnt(Janet *argv, int argc);

Janet j_wavdraw(int32_t argc, Janet *argv)
{
    btprnt *bp;
    JanetArray *jreg;
    btprnt_region reg;
    const char *filename;
    int clr;

    janet_fixarity(argc, 4);
    bp = janet2btprnt(argv, 0);
    jreg = janet_getarray(argv, 1);
    filename = (const char *)janet_getstring(argv, 2);
    clr = janet_getinteger(argv, 3);


    janet2reg(bp, jreg, &reg);

    btprnt_wavdraw(&reg, filename, clr);

    return janet_wrap_nil();
}</pre></code>
</div>
</body>
</html>
