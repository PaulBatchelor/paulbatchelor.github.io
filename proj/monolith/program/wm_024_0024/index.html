<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">

<h3>3. Data</h3>

<p><a id="wm_024_0024"></a>Stored in a struct called <code>tdelay_d</code>.
</p>
<div><b><i>&lt;&lt;typedefs&gt;&gt;=</i></b></div><pre><code>typedef struct tdelay_d tdelay_d;</pre></code>
<div><b><i>&lt;&lt;structs&gt;&gt;=</i></b></div><pre><code>struct tdelay_d {
&lt;&lt;tdelay_d&gt;&gt;
};</pre></code>
<p></p>
<p>A tdelay most notably has a bank of trigger loops.
</p>
<div><b><i>&lt;&lt;tdelay_d&gt;&gt;=</i></b></div><pre><code>tdelay_loop *bank;
int nloops;</pre></code>
<p></p>
<p>The number of active loops is used to make lookup
faster (return quickly if there are no free loops).
</p>
<div><b><i>&lt;&lt;tdelay_d&gt;&gt;=</i></b></div><pre><code>int nactive;</pre></code>
<p></p>
<p>Also used to help speed up loop claiming faster,
the last freed loop is used. A negative value means
there is no last free loop quickly available, and
a linear search must be in place instead.
</p>
<div><b><i>&lt;&lt;tdelay_d&gt;&gt;=</i></b></div><pre><code>int last_free;</pre></code>
<p></p>
<p>Any loop that is put into FIRE mode must immediately
be shut off in the next block, otherwise the loop node
will tick every block until the next tick. A flag is
used to keep track of this state.
</p>
<div><b><i>&lt;&lt;tdelay_d&gt;&gt;=</i></b></div><pre><code>int ticked_last_block;</pre></code>
<p></p>
<p>Epsilon is the threshold for when to turn off the node.
</p>
<div><b><i>&lt;&lt;tdelay_d&gt;&gt;=</i></b></div><pre><code>double eps;</pre></code>
<div><b><i>&lt;&lt;funcdefs&gt;&gt;=</i></b></div><pre><code>void tdelay_eps(tdelay_d *td, double eps);</pre></code>
<div><b><i>&lt;&lt;funcs&gt;&gt;=</i></b></div><pre><code>void tdelay_eps(tdelay_d *td, double eps)
{
    td-&gt;eps = eps;
}</pre></code>
<p></p>
<br>
<p><hr>

<a href="/proj/monolith/program/wm_024_0002">prev</a> | <a href="/proj/monolith/program/wm_024">home</a> | <a href="/proj/monolith/program/wm_024_0056">next</a></p>
</div>
</body>
</html>
