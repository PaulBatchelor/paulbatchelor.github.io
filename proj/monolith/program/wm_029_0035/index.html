<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">

<h3>4. Top-Level FBM Function</h3>

<p><a id="wm_029_0035"></a>All of this document culminates into a single top-level
function called <code>monolith_fbm</code>.
</p>
<p><code>monolith_fbm</code> takes in 3 paramters: an x and y coordinate
(given as normalized values), and the number of octaves.
</p>
<p>It returns a corresponding amplitude in range 0-1.
</p>
<div><b><i>&lt;&lt;funcdefs&gt;&gt;=</i></b></div><pre><code>float monolith_fbm(float x, float y, int oct);</pre></code>
<div><b><i>&lt;&lt;funcs&gt;&gt;=</i></b></div><pre><code>float monolith_fbm(float x, float y, int oct)
{
    vec2 st;
    float value;
    float amplitude;
    int i;

    st = mkvec2(x, y);
    value = 0;
    amplitude = 0.5;

    for (i = 0; i &lt; oct; i++) {
        value += amplitude * noise(st);
        st = muls(st, 2);
        amplitude *= 0.6;
    }

    return value;
}</pre></code>
</div>
</body>
</html>
