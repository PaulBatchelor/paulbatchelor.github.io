<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width", initial-scale=1>
<title></title>

<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">
<p>ACHTUNG! This project is abandoned, but the work continues.
Parts of it now live on
in <a href="/sndkit">sndkit</a> as the <a href="/sndkit/glottis">glottis</a> and
<a href="/sndkit/tract">tract</a> algorithms, and are featured in
<a href="/wiki/vocshape">vocshape</a>.</p>
<h1>Voc</h1>
<p>Voc is a physical model of the vocal tract. It is based off of
Neil Thapen's <a href="https://dood.al/pinktrombone/">Pink Trombone</a>, but rewritten
in portable ANSI C code.</p>
<p>Voc uses the classic <a href="
https://ccrma.stanford.edu/~jos/pasp/Singing_Kelly_Lochbaum_Vocal_Tract.html">Kelly-Lochbaum vocal synthesis technique</a>,
one of the earliest attempts at digital physical modelling. The Kelly-Lochbaum
approach approximates the vocal tract as tube-model, consisting of a series
of cylinders with varying diameters. The excitation signal used with the
Tract is the Liljencrants-Fant glottal pulse model, a highly accurate
mathematical approximation of the glottal wave.</p>
<h2>Literate Programming</h2>
<p>Voc is written using <a href="
https://en.wikipedia.org/wiki/Literate_programming">Literate Programming</a>, a programming paradigm
created by Donald Knuth of TeX and The Art of Computer Programming Fame. In
literate programming, one melts natural language and computer code together in
order to better articulate what the program does. In some ways, it can be
thought of a very integrated form of code documentation. Voc uses a
program called <a href="http://www-cs-faculty.stanford.edu/~uno/cweb.html">CWEB</a>,
the classic literate documentation system developed by Knuth himself and
Silvio Levy.</p>
<p>As a result of literate programming, Voc has two formats. One format is
the C code itself, designed to be read by compilers. The other format is
TeX code, which can be compiled into a
<a href="/res/voc/voc.pdf">readable PDF document</a>.</p>
<p>The main motiviation behind using a literate documentation system like CWEB is
is in the fact that while C is great language for implementing audio DSP
algorithms, it is a sore language for trying to <em>understand</em> them. With CWEB,
one can use plain english and TeX's math mode to better convey some of
concepts in the implementation.</p>
<h2>Source code</h2>
<p>The source code to Voc can be found on
<a href="https://www.github.com/paulbatchelor/voc">github</a>.</p>
<p>At the very minimum,
CWEB, GNUplot, and <a href="/proj/soundpipe.html">Soundpipe</a> need to be installed.
<a href="/proj/sporth.html">Sporth</a> must be installed in order to compile and
use the Sporth plugin.</p>
<p>The generated output of cweave of can be found <a href="/res/voc/voc.pdf">here</a>. The
title page has the git commit hash, which can be used to see how updated
the document is with the upstream code.</p>
<h2>Demo Program</h2>
<p>For those wishing to try out Voc with minimum hassle, there is a
realtime <a href="https://www.github.com/paulbatchelor/voc_demo">voc demo</a> which
is able to compile for both Mac OSX and Linux systems running JACK. It contains
a copy of Voc's generated C code, which makes it much easier to build than
the Voc source code.  Soundpipe and GLFW3 are needed dependencies.</p>
<p><a href="
https://www.github.com/paulbatchelor/voc_demo"><img src="/res/voc/voc_demo.png" alt="Voc Demo" /></a></p>
<h2>Sporth Examples and Visualizations</h2>
<p>The videos below showcase Voc being used in a musical context. The sounds
were synthesized using Sporth and the Sporth plugin implementation of Voc.
The visuals were generated via Cairo, FFMPEG, and Runt via
<a href="/proj/pixku">Pixku</a>.</p>
<p>Each example has two videos that accompany it.</p>
<p>The first video visualizes
the four main parameters of the Voc Sporth Ugen.</p>
<ul>
<li>Both <em>position</em> and <em>diameter</em> are macro controls for the vocal tract
which loosely approximate tongue control.</li>
<li>The parameter <em>Tenseness</em> controls the tenseness of the glottis, as well as the amount
of aspiration noise in the signal.</li>
<li>The parameter <em>velum</em> controls the area of the velum, or soft pallette.
Larger values cause more nasal values to happen.</li>
</ul>
<p>Frequency is not visualized.</p>
<p>The second video visualizes how the vocal tract is changing as a two
dimensional plot of each of the diameters.</p>
<h3>Babble</h3>
<p>The first real patch created in Sporth using Voc was <em>Babble</em>. <em>Babble</em> makes
good use of interpolated random number generators and jitter to produce sounds
that mimic a babbling person.</p>
<p><iframe src="https://player.vimeo.com/video/220090722" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
<p><a href="https://vimeo.com/220090722">Voc: Babble (Sliders)</a> from <a href="https://vimeo.com/pbatch">Paul Batchelor</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
</p>
<p><iframe src="https://player.vimeo.com/video/220091107" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
<p><a href="https://vimeo.com/220091107">Voc: Babble (Vocal Tract Plot)</a> from <a href="https://vimeo.com/pbatch">Paul Batchelor</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
</p>
<h3>Chant</h3>
<p>The patch <em>Chant</em> was an attempt to build a constrasting patch to <em>Babble</em>,
this time focusing on slow moving periodic modulations instead of fast and
random ones. Voc is able to turn into a something resembling a chanting
monk by picking a low fundamental frequency, a high velum, low frequency
sinusoidal modulation of the position, as well as a high diameter parameter.
A lowend boost and reverb is added to taste.</p>
<p><iframe src="https://player.vimeo.com/video/220090829" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
<p><a href="https://vimeo.com/220090829">Voc: Chant (Sliders)</a> from <a href="https://vimeo.com/pbatch">Paul Batchelor</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
</p>
<p><iframe src="https://player.vimeo.com/video/220091290" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
<p><a href="https://vimeo.com/220091290">Voc: Chant (Vocal Tract Plot)</a> from <a href="https://vimeo.com/pbatch">Paul Batchelor</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
</p>
<h3>Unya</h3>
<p>This was an attempt to find interesting values from the tongue control
parameters, as well as build something tonal. Both <em>diameter</em> and <em>position</em>
are mapped to clocked envelope generators, which have the effect of going
between two vowel states. In this case, they make a sound which approximates
the nonsensical word "unya".</p>
<p><iframe src="https://player.vimeo.com/video/220090877" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
<p><a href="https://vimeo.com/220090877">Voc: Unya (Sliders)</a> from <a href="https://vimeo.com/pbatch">Paul Batchelor</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
</p>
<p><iframe src="https://player.vimeo.com/video/220091487" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/220091487">Voc: Unya (Vocal Tract Plot)</a> from <a href="https://vimeo.com/pbatch">Paul Batchelor</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
</p>
<hr />
<a href="/proj">Projects</a><p><a href="/">Home</a></p>

</div>
</body>
</html>
