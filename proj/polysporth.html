<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<title>Polysporth</title>

<link rel="stylesheet" href="/css/style.css">

</head>
<body class="home">
<div id="container">
<h1>Polysporth</h1>
<p>Polysporth. Polyphonic Sporth. </p>
<p>Polysporth is a ugen written for Sporth, designed to address some of the
natural shortcomings of the Sporth language: polyphony, events,
and abstraction. The source code can be found on 
<a href="https://www.github.com/paulbatchelor/polysporth.git">github</a>.</p>
<p>Polysporth is spawned from inside of Sporth as a ugen. From there, PolySporth is able to 
be controlled via Scheme (tinyscheme). Sporthlets can be
toggled on and off, and they scheduled using a notelist interface that 
slightly resembles a Csound/Music V 
<a href="https://csound.github.io/docs/manual/ScoreTop.html">score</a>. 
Meta-notes also exist, which allow scheme functions
to be called instead of sporthlet voices.  Contiguous sporthlets can be grouped together
to form voice groups, which can used to implement an efficient means of 
polyphony. </p>
<p>PolySporth has access to many under-the-hood features of soundplumber,
Sporth's sound engine based on Soundpipe. Coupled with the Scheme language, this
allows for abstractions not possible with Sporth alone, such as procedural code
generation, parameterized functions, and reusable code.</p>
<h2>Installation</h2>
<p>Nothing special. Polysporth is now included inside of Sporth, and can be called as a standard
ugen. </p>
<h2>A simple example</h2>
<p>A typical polysporth instance has a Sporth file and a Scheme file. </p>
<p>The Sporth code calls Polysporth (call this file <em>simple.sp</em>):</p>
<pre><code> _in 1 zeros
 0 0 4 _in _out &quot;simple.scm&quot; ps
 0 4 _out ftsum</code></pre>
<p>In the code above:</p>
<ul>
<li><strong>zeros</strong> creates a table of size 1 called "in" </li>
<li><strong>ps</strong> instantiates Polysporth, taking in the following arguments 
(left to right): trigger, clock, input table, output table, scheme filename</li>
<li><strong>ftsum</strong> takes the output table of polysporth and sums them together. This
mixes all the individual sporthlet voices together.</li>
</ul>
<p>The Scheme code manages all the different chunks of Sporth code 
(call this file <em>simple.scm</em>):</p>
<pre><code> (define sine0 &quot;60 mtof 0.2 sine&quot;)
 (define sine1 &quot;64 mtof 0.2 sine&quot;)
 (define sine2 &quot;67 mtof 0.2 sine&quot;)</code></pre>
<pre><code> (ps-eval 0 sine0)
 (ps-eval 1 sine1)
 (ps-eval 2 sine2)</code></pre>
<pre><code> (ps-turnon 0 -1)
 (ps-turnon 1 -1)
 (ps-turnon 2 -1)</code></pre>
<p>In the code above:</p>
<ul>
<li><strong>define</strong> creates three sporth strings, each containing a sine wave generator
of a particular frequency </li>
<li><strong>ps-eval</strong> evaluates the sporth code into sporthlet voice N. </li>
<li><strong>ps-turnon</strong> turns on sporthlet voice N. The -1 parameter turns them on 
indefinitely.</li>
</ul>
<p>Execute the code by running:</p>
<pre><code> sporth simple.sp</code></pre>
<p>If all goes well, it will generate a 5-second audio file called "test.wav". </p>
<h2>Less simple examples</h2>
<p>The Polysporth folder in the Sporth source tree contains a small examples, each
demonstrating a particular feature of Polysporth. At the moment, they are the
closest thing to documentation:</p>
<p><strong>Example 0:</strong> a trivial sine. 
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/00_sine.sp">sp</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/00_sine.scm">scm</a></p>
<p><strong>Example 1:</strong> audio input. 
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/01_input.sp">sp</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/01_input.scm">scm</a></p>
<p><strong>Example 2:</strong> Notelists and event blocks. 
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/02_notelist.sp">sp</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/02_notelist.scm">scm</a></p>
<p><strong>Example 3:</strong> Metanotes. 
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/03_metanotes.sp">sp</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/03_metanotes.scm">scm</a></p>
<p><strong>Example 4:</strong> Triggerable callback functions. 
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/04_callback.sp">sp</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/04_callback.scm">scm</a></p>
<p><strong>Example 5:</strong> Using the SoundPlumber Lexer
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/05_lexer.sp">sp</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/05_lexer.scm">scm</a></p>
<p><strong>Example 6:</strong> Using tset from Polysporth
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/06_tset.sp">sp</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/06_tset.scm">scm</a></p>
<p><strong>Example 7:</strong> Using variables in Polysporth
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/07_var.sp">sp</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/07_var.scm">scm</a></p>
<p><strong>Example 8:</strong> Dynamic libraries in Polysporth
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/08_plugin.sp">sp</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/08_plugin.scm">scm</a>
|
<a href="https://github.com/PaulBatchelor/Sporth/blob/master/ugens/polysporth/examples/plugin.c">c</a></p>
<h2>Future plans</h2>
<p>Future plans include:</p>
<ul>
<li>More scheme-based abstractoins </li>
<li>Better integration with programs like <a href="/proj/protrekkr">Protrekkr</a></li>
</ul>

</div>
</body>
</html>
