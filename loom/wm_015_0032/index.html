<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">

<h2>5. Clearing + reset the weewiki tables</h2>

<p><a id="wm_015_0032"></a><div><b><i>&lt;&lt;clear_and_reset&gt;&gt;=</i></b></div><pre><code>&lt;&lt;create_wiki_table&gt;&gt;
&lt;&lt;create_wmref_table&gt;&gt;</pre></code>

<h3>5.1. Wiki</h3>

<p><a id="wm_015_0037"></a>Create this table if it doesn't already exist.
<div><b><i>&lt;&lt;create_wiki_table&gt;&gt;=</i></b></div><pre><code>sqlite3_exec(wiki,
             "DROP TABLE IF EXISTS wikilinks;"
             "DROP TABLE IF EXISTS wiki;"
             "CREATE TABLE "
             "wiki(key TEXT UNIQUE, value TEXT);",
             NULL,
             NULL,
             NULL);</pre></code>
<p>Remove all rows with the prefix <code>wm_</code>.
</p>

<h3>5.2. wmref</h3>

<p><a id="wm_015_0043"></a>This links wiki names with program and resource ideas.
Create the table if doesn't exist, and clear any
pre-existing rows.
<div><b><i>&lt;&lt;create_wmref_table&gt;&gt;=</i></b></div><pre><code>sqlite3_exec(wiki,
             "DROP TABLE IF EXISTS wmref;"
             "CREATE TABLE "
             "wmref(key TEXT UNIQUE, "
             "program INTEGER, "
             "id INTEGER);",
             NULL,
             NULL,
             NULL);</pre></code>
<p></p>
<br>
<p><hr>

<a href="/loom/wm_015_0023">prev</a> | <a href="/loom/worgmap_weewiki">home</a> | <a href="/loom/wm_015_0048">next</a></p>
</div>
</body>
</html>
