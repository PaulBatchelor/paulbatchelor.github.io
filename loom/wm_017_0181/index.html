<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">

<h3>5. Procedure (trig_vm_ex)</h3>

<p><a id="wm_017_0181"></a>A cell procedure determines how to determine the bitpattern
to perform a particular function. It will always return an
integer, which is the next cell position to jump to. The
three major parameters it takes in are current position,
command word, the data word. This function parses the
command word, and executes the appropriate function.
</p>
<p>When a cell is computed, it copies it's internal words over
to this function to be parsed.
</p>
<p>There are a potential of 8 major opcode types, stored in the
first 8 bits of the bytes, which correspond to 8 potential
functions.
</p>
<div><b><i>&lt;&lt;funcdefs&gt;&gt;=</i></b></div><pre><code>int trig_vm_ex(trig_vm *vm,
               int pos,
               uint32_t cmd,
               uint32_t data);</pre></code>
<div><b><i>&lt;&lt;funcs&gt;&gt;=</i></b></div><pre><code>&lt;&lt;exfuncs&gt;&gt;
int trig_vm_ex(trig_vm *vm,
               int pos,
               uint32_t cmd,
               uint32_t data)
{
    if (cmd == 0) return empty(vm, pos, cmd, data);
    if (cmd & 1) return pattern(vm, pos, cmd, data);
    if (cmd & 2) return jump(vm, pos, cmd, data);
    if (cmd & 4) return maygate(vm, pos, cmd, data);
    if (cmd & 8) return metapattern(vm, pos, cmd, data);

    return empty(vm, pos, cmd, data);
}</pre></code>
<p></p>
<br>
<p><hr>

<a href="/loom/wm_017_0002">prev</a> | <a href="/loom/trigvm">home</a> | <a href="/loom/wm_017_0189">next</a></p>
</div>
</body>
</html>
