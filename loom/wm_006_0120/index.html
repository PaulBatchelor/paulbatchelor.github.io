<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div id="main">

<h3>4. Variables</h3>

<p><a id="wm_006_0120"></a></p>

<h4>4.1. Variables Overview</h4>

<p><a id="wm_006_0121"></a>A variable type in zet is a thing that can be chaned over
time. The format is "$key:value". The message starts with
"$" to inidicate the type flag. The variable name "key" is
inbetween the "$" and the ":". The remaining part of the
message is the value, which can be treated like another zet
value.
</p>

<h4>4.2. Create a New Variable</h4>

<p><a id="wm_006_0123"></a>A variable must be explicitely created before it can be
used. This is done to minimize typo-related errors. (At the
time of writing, zet doesn't isn't great at removing or
editing commands). <code>wwzet_var_new</code> will create a new
variable <code>var</code> and tie it to a item with UUID <code>id</code>. The
value will be set to be zero.
</p>
<div><b><i>&lt;&lt;funcdefs&gt;&gt;=</i></b></div><pre><code>int wwzet_var_new(weewiki_d *ww,
                  wwzet_uuid *id,
                  const char *var,
                  int sz);</pre></code>

<h4>4.3. Setting a Variable to be a Message</h4>

<p><a id="wm_006_0127"></a>A variable can be set to be a message with
<code>wwzet_var_message</code>.
</p>
<div><b><i>&lt;&lt;funcdefs&gt;&gt;=</i></b></div><pre><code>int wwzet_var_message(weewiki_d *ww,
                      wwzet_uuid *id,
                      const char *var, int vsz,
                      const char *msg, int msz);</pre></code>

<h4>4.4. Setting a Variable to be a Link</h4>

<p><a id="wm_006_0131"></a>A variable can be set to link to another UUID with
<code>wwzet_var_link</code>.
</p>
<div><b><i>&lt;&lt;funcdefs&gt;&gt;=</i></b></div><pre><code>int wwzet_var_link(weewiki_d *ww,
                   wwzet_uuid *id,
                   const char *var, int sz,
                   wwzet_uuid *addr);</pre></code>

<h4>4.5. TODO Command Line Interface</h4>

<p><a id="wm_006_0135"></a>Here are some command line operations, all under the
subcommand "var"
</p>

<h5>4.5.1. Top Level</h5>

<p><a id="wm_006_0137"></a>All variable subcommands get here.
</p>
<div><b><i>&lt;&lt;static_funcdefs&gt;&gt;=</i></b></div><pre><code>static int zet_var(int argc, char *argv[]);</pre></code>
<div><b><i>&lt;&lt;funcs&gt;&gt;=</i></b></div><pre><code>static int zet_var(int argc, char *argv[])
{
    fprintf(stderr, "WIP\n");
    return 1;
}</pre></code>

<h5>4.5.2. New</h5>

<p><a id="wm_006_0144"></a>usage: new uuid name
</p>
<p>creates a new variable called <code>name</code>. with a uuid <code>uuid</code>.
</p>

<h5>4.5.3. Set</h5>

<p><a id="wm_006_0146"></a>usage: set uuid name value
</p>
<p>Sets the variable <code>name</code> to be <code>value</code>. Note that this
implicitely sets the value type to be a mesage.
</p>

<h5>4.5.4. Get</h5>

<p><a id="wm_006_0148"></a>usage: get uuid name
</p>
<p>gets the variable <code>name</code> associated with <code>uuid</code>.
</p>

<h5>4.5.5. Link</h5>

<p><a id="wm_006_0150"></a>usage: link uuid name value
</p>
<p>sets a variable to link with an existing item. <code>value</code> can
be a UUID, group, page, or anything else that the zet can
resolve.
</p>

<h5>4.5.6. List</h5>

<p><a id="wm_006_0152"></a>usage: list name item
</p>
<p>List UUIDs with the variable <code>name</code> and item name <code>item</code>.
For example, running <code>list state @TODO</code> would list all
UUIDs with the variable state pointing to the TODO group.
</p>
<p>These will be ordered by timestamp in ascending order.
</p>
<br>
<p><hr>

<a href="/loom/wm_006_0024">prev</a> | <a href="/loom/weewiki_zet">home</a> | <a href="/loom/wm_006_0154">next</a></p>
</div>
</body>
</html>
